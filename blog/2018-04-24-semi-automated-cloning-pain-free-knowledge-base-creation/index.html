<!doctype html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,minimum-scale=1,maximum-scale=1"><link href=/css/fonts.css rel=stylesheet type=text/css><title>Semi-Automated Cloning: Pain-Free Knowledge Base Creation</title>
<link rel=stylesheet href=/css/hugo-octopress.css><link rel=stylesheet href=/css/fork-awesome.min.css><link href=https://parsiya.net/favicon.png rel=icon><meta name=description content><meta name=keywords content="[Parsia Hakimian Parsiya infosec information security]"><meta name=author content="Parsia"><meta name=generator content="Hugo 0.120.4"><meta name=twitter:card content="summary"><meta name=twitter:title content="Semi-Automated Cloning: Pain-Free Knowledge Base Creation"><meta name=twitter:description content="TL;DR:

Instead of creating an index manually for Github, I am using a Hugo blog for my knowledge base (a.k.a. Parsia-Clone). This blog is about my flow and how I have semi-automated the process. Demo site is at https://parsiya.io (it's served in plaintext because I am making rapid changes and do not want to invalidate CloudFront's cache after every push).



Flow

Flow is pretty simple:

Create the page bundle directory and page in the clone with hugo new. I usually create it under categories\main-category-name. The command will look like:

hugo new categories\research\hacking-the-gibson\index.md


Run hugo serve to preview the page during the edit.
Fill front matter and write the page in index.md.
Any resources such as pictures and files can be in the same directory. This helps in two ways, they can be referenced in the page (like pictures) and seen on Github (like config files).
When done, git add/commit/push the clone inside the content directory.
???
Profit. See updated blog, built and deployed by Travis CI.
"><meta name=twitter:domain content="parsiya.net"><meta name=twitter:creator content="@CryptoGangsta"></head><body><header role=banner><hgroup><h1><a href=https://parsiya.net/>Hackerman's Hacking Tutorials</a></h1><h2>The knowledge of anything, since all things have causes, is not acquired or
complete unless it is known by its causes. - Avicenna</h2></hgroup></header><nav role=navigation><fieldset class=mobile-nav><select onchange="location=this.value"><option value>Navigate…</option><option value=https://parsiya.net/about/>» About Me!</option><option value=https://parsiya.net/cheatsheet/>» Cheat Sheet</option><option value=https://parsiya.io/>» My Clone</option><option value=https://github.com/parsiya/parsiya.net>» Source Repo</option><option value="https://queue.acm.org/detail.cfm?id=3197520">» Manual Work is a Bug</option><option value="https://www.google.com/search?q=andrew+ridgeley">» The Other Guy from Wham!</option></select></fieldset><ul class=main-navigation><li><a href=https://parsiya.net/about/ title="About Me!" target=_blank rel="noopener noreferrer">About Me!</a></li><li><a href=https://parsiya.net/cheatsheet/ title="Cheat Sheet" target=_blank rel="noopener noreferrer">Cheat Sheet</a></li><li><a href=https://parsiya.io/ title="My Clone" target=_blank rel="noopener noreferrer">My Clone</a></li><li><a href=https://github.com/parsiya/parsiya.net title="Source Repo" target=_blank rel="noopener noreferrer">Source Repo</a></li><li><a href="https://queue.acm.org/detail.cfm?id=3197520" title="Manual Work is a Bug" target=_blank rel="noopener noreferrer">Manual Work is a Bug</a></li><li><a href="https://www.google.com/search?q=andrew+ridgeley" title="The Other Guy from Wham!" target=_blank rel="noopener noreferrer">The Other Guy from Wham!</a></li></ul><ul class=subscription><a href=https://parsiya.net/index.xml target=_blank type=application/rss+xml title=RSS rel="noopener noreferrer"><i class="fa fa-rss-square fa-lg"></i></a></ul><form action=https://www.google.com/search method=get target=_blank rel="noopener noreferrer"><fieldset role=search><input class=search type=text name=q results=0 placeholder=Search>
<input type=hidden name=q value=site:https://parsiya.net/></fieldset></form></nav><div id=main><div id=content><div><article class=hentry role=article><header><p class=meta>Apr 24, 2018
- 9 minute read
- <a href=https://parsiya.net/blog/2018-04-24-semi-automated-cloning-pain-free-knowledge-base-creation/#disqus_thread>Comments</a>
- <a class=label href=https://parsiya.net/categories/not-security/>Not Security </a><a class=label href=https://parsiya.net/categories/clone/>Clone </a><a class=label href=https://parsiya.net/categories/automation/>Automation</a></p><h1 class=entry-title>Semi-Automated Cloning: Pain-Free Knowledge Base Creation</h1></header><div class=entry-content><nav id=TableOfContents><ul><li><a href=#tldr>TL;DR:</a></li><li><a href=#flow>Flow</a></li><li><a href=#required-knowledge>Required Knowledge</a></li><li><a href=#background-or-justification>Background or Justification</a></li><li><a href=#problem>Problem</a></li><li><a href=#solution>Solution</a><ul><li><a href=#page-creation>Page Creation</a><ul><li><a href=#hugo-page-bundles>Hugo Page Bundles</a></li><li><a href=#the-github-vs-hugo-dilemma>The Github vs. Hugo Dilemma</a></li></ul></li><li><a href=#page-classification>Page Classification</a></li><li><a href=#index>Index</a></li><li><a href=#snippets>Snippets</a><ul><li><a href=#page-snippets>Page Snippets</a></li><li><a href=#category-snippets>Category Snippets</a></li></ul></li><li><a href=#sidebar>Sidebar</a></li><li><a href=#page-header-and-footer>Page Header and Footer</a></li><li><a href=#automation>Automation</a></li></ul></li><li><a href=#conclusion>Conclusion</a></li></ul></nav><h1 id=tldr>TL;DR:
<a class=header-link href=#tldr><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h1><p>Instead of creating an index manually for Github, I am using a Hugo blog for my knowledge base (a.k.a. <code>Parsia-Clone</code>). This blog is about my flow and how I have semi-automated the process. Demo site is at <a href=https://parsiya.io target=_blank rel="noreferrer noopener">https://parsiya.io</a> (it's served in plaintext because I am making rapid changes and do not want to invalidate CloudFront's cache after every push).</p><h1 id=flow>Flow
<a class=header-link href=#flow><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h1><p>Flow is pretty simple:</p><ol><li>Create the page bundle directory and page in the clone with <code>hugo new</code>. I usually create it under <code>categories\main-category-name</code>. The command will look like:<ul><li><code>hugo new categories\research\hacking-the-gibson\index.md</code></li></ul></li><li>Run <code>hugo serve</code> to preview the page during the edit.</li><li>Fill front matter and write the page in <code>index.md</code>.</li><li>Any resources such as pictures and files can be in the same directory. This helps in two ways, they can be referenced in the page (like pictures) and seen on Github (like config files).</li><li>When done, <code>git add/commit/push</code> the clone inside the <code>content</code> directory.</li><li>???</li><li>Profit. See updated blog, built and deployed by <code>Travis CI</code>.</li></ol><h1 id=required-knowledge>Required Knowledge
<a class=header-link href=#required-knowledge><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h1><ul><li><a href=https://daringfireball.net/projects/markdown/ target=_blank rel="noreferrer noopener">Markdown</a>: It's pretty easy to pick up. While it's not very powerful in terms of syntax, it's more than enough for most quick notes.</li><li><a href=https://gohugo.io/ target=_blank rel="noreferrer noopener">Hugo</a>: The static website engine. Technically you can use any similar framework. I like Hugo and it works for me.</li><li><a href=https://travis-ci.org/ target=_blank rel="noreferrer noopener">Travis CI</a>: Some very basic knowledge about Travis CI. I just learned it last night.<ul><li>You can read about my flow at: <a href=/blog/2018-04-24-deploying-my-knowledge-base-at-parsiya.io-to-s3-with-travis-ci/ title="Deploying my Knowledge Base at parsiya.io to S3 with Travis CI">Deploying my Knowledge Base at parsiya.io to S3 with Travis CI</a></li></ul></li><li>Setting up static websites: There are many guides out there, I host all my static websites out of S3 buckets. But you could use any other way.</li></ul><h1 id=background-or-justification>Background or Justification
<a class=header-link href=#background-or-justification><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h1><p>I have always been a fan of documentation. Not that I'm particularly good at it. I am also a fan of not memorizing everything. Being in security consulting, I am on new projects every other week. Meaning, I learn something, then move to a completely different tech stack/project and I have to re-learn it in a few months. Instead of memorizing everything, I write them down and then reference them next time I have to do something.</p><p>I have been creating a similar knowledge base at Cigital/Synopsys since 2016. It's been decently received. I have the most stars on our internal git repository. Better yet, I can point people to it so they do not have to re-invent the wheel. Win-win on both sides.</p><p>Your future self will have another benefit. When documenting, don't just document the solution but also document anything else you have learned along the way. These are most likely your future problems/solutions.</p><h1 id=problem>Problem
<a class=header-link href=#problem><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h1><p>Documentation is time-consuming. It takes a lot more to write things down, than to just learn something. Granted, by writing I learn more but the temptation is there to just get things done and move on. Time spent grows exponentially if I also document other things I have learned during the search as I mentioned above.</p><p>It's also very manual, if something can be mindlessly copy/pasted then it's really not worth documenting (this is a broad generalization). But my problems are usually very customized. I have to go through 3 search query refining cycles to get to roughly relevant material, then sift between the first 5 pages of search results to get my answer. This takes time.</p><p>Indexing is complicated, my clone has a long table of contents on the front page. Every time I change something, I need to go and update the index. This is cumbersome and unnecessary. I do not want to just rely on search to find stuff for me, I need to have an index.</p><h1 id=solution>Solution
<a class=header-link href=#solution><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h1><p>Some parts cannot be automated. For example knowledge base creation and documentation is almost always manual. But we can at least automate indexing, deployment and storage.</p><p>In this document I will talk about how I have revamped <a href=https://parsiya.io target=_blank rel="noreferrer noopener">parsiya.io</a> so it's easier to maintain.</p><h2 id=page-creation>Page Creation
<a class=header-link href=#page-creation><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>It's very tempting to classify pages by a directory structure, it looks nice but it takes a lot of time. Instead we can make a directory anywhere, name it something and put the markdown file and static resources (e.g. images) there. I usually create them under the first category that I think is relevant but ultimately it does not matter.</p><h3 id=hugo-page-bundles>Hugo Page Bundles
<a class=header-link href=#hugo-page-bundles><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h3><p>Hugo has <a href=https://gohugo.io/content-management/page-bundles/ target=_blank rel="noreferrer noopener">page bundles</a>. Instead of storing images in the <code>static</code> directory, you can create a directory, write your markdown in a file named <code>index.md</code> and then link to pictures and other assets in the same directory or sub-directories. Everything in that directory and under will be part of the same bundle. Each post will be a new page bundle.</p><p>Here's some of my repo:</p><pre tabindex=0><code>
├───abandoned-research
│       BMC-Track-It-11.2.md
│       learning-triton-blog-post.md
│       _index.md
│
├───blockchain
│       _index.md
│
├───configs
│   │   gitconfig
│   │   README.md
│   │   ubuntu-16-setup.md
│   │   _index.md
│   │
│   └───sublime-text
│       │   index.md
│       │
│       └───sublime-config-files
│               Bold and Italic Markers.tmPreferences
│               Default (Windows).sublime-keymap
│               ...
├───random
│   │   mingw-windows.md
│   │   octopress-migration.md
│   │   search-path.md
│   │   _index.md
...
</code></pre><h3 id=the-github-vs-hugo-dilemma>The Github vs. Hugo Dilemma
<a class=header-link href=#the-github-vs-hugo-dilemma><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h3><p>My original clone is based on the web interface of our Git server. Major products (Gitlab, Github, Bitbucket etc.) support rendering markdown documents with syntax highlighting and formating in their web interface.</p><p>The web interface can use a directory structure and will automatically display the <code>readme.md</code> file in the root of each directory. Markdown documents can have picture, code and link to each other.</p><p>I wanted my website to also be somewhat usable, after all it's mostly markdown documents with pictures and code. This creates a problem, page bundles are <code>index.md</code> in Hugo but <code>readme.md</code> in Github. The solution is somewhat hacky. Just make a copy of first file and name it <code>readme.md</code>. <code>index.md</code> is used by Hugo and <code>readme.md</code> is used by the Git repo's web interface.</p><p>This introduces a new problem, these <code>readme.md</code> files will be rendered by Hugo the result will be a double index. The solution is easy, <a href=https://gohugo.io/getting-started/configuration/#ignore-files-when-rendering target=_blank rel="noreferrer noopener">ignore them</a> in the Hugo config file:</p><ul><li><code>ignorefiles = ["README.*"]</code></li></ul><h2 id=page-classification>Page Classification
<a class=header-link href=#page-classification><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Hugo already supports <code>categories</code> and <code>tags</code> out of the box (and we can also add our own custom items to front matter). Clone uses categories for page classification. Index will later use this. See more at <a href=https://gohugo.io/content-management/taxonomies/ target=_blank rel="noreferrer noopener">Hugo Taxonomies</a>.</p><p>Note that while I have mostly created pages under the category directory, they can be anywhere. The front matter will decide which categories the page ends up in.</p><h2 id=index>Index
<a class=header-link href=#index><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Index is the front page of the blog and must contain everything. Pages need to be classified by category. This is easy, we can override the theme layout in our Hugo website without touching the theme. This is done by creating a similar file under the <code>layouts</code> directory. For example, in Hugo index is created based on the template at <code>themes\theme-name\layouts\index.html</code>. We create a <code>layouts\index.html</code> in the parent website to override it.</p><span class=caption-wrapper><img class=caption src=/images/2018/clone1/01-index.png title="Overriding index" alt="Overriding index">
<span class=caption-text>Overriding index</span></span><p>In the <a href=https://github.com/parsiya/parsiya.io/blob/master/layouts/index.html target=_blank rel="noreferrer noopener">new index</a>, I am displaying page titles by category. <code>Abandoned Research</code> is the name of the category and <code>BMC Track It 11.2</code> is the name of the page.</p><span class=caption-wrapper><img class=caption src=/images/2018/clone1/02-index.png title="Index page" alt="Index page">
<span class=caption-text>Index page</span></span><h2 id=snippets>Snippets
<a class=header-link href=#snippets><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>As you can see, each category and page has its own snippet. Those are useful for giving the reader a general idea of what the item is.</p><h3 id=page-snippets>Page Snippets
<a class=header-link href=#page-snippets><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h3><p>Page snippets are added in front matter, each page can have an optional new item named <code>snippet</code>. The snipper will appear in the index and can be markdown. For example, one page has this front matter.</p><figure class=code><figcaption><span>Page front matter</span></figcaption><div class=codewrapper><div class=highlight><div style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">11
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#268bd2>draft</span>: <span style=color:#cb4b16>false</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>toc</span>: <span style=color:#cb4b16>false</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>comments</span>: <span style=color:#cb4b16>false</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>categories</span>:
</span></span><span style=display:flex><span>- Research
</span></span><span style=display:flex><span><span style=color:#268bd2>tags</span>:
</span></span><span style=display:flex><span>- Windows
</span></span><span style=display:flex><span>- SearchPath
</span></span><span style=display:flex><span><span style=color:#268bd2>title</span>: <span style=color:#2aa198>&#34;Razer Comms&#34;</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>wip</span>: <span style=color:#cb4b16>false</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>snippet</span>: <span style=color:#2aa198>&#34;Razer Comms [mini report](https://parsiya.net/blog/2017-09-21-razer-comms/) and notes.&#34;</span></span></span></code></pre></td></tr></table></div></div></div></figure><p><code>snippet</code> can also contain markdown because it's later passed to Hugo's <code>markdownify</code>. If <code>wip</code> is set to <code>true</code>, then the page title will have a <code>WIP</code> after it. The magic happens inside <code>index.html</code>:</p><figure class=code><figcaption><span>Adding snippet and wip to index.html</span></figcaption><div class=codewrapper><div class=highlight><div style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>{{ range $taxonomy.Pages }}
</span></span><span style=display:flex><span>    &lt;<span style=color:#268bd2>li</span>&gt;&lt;<span style=color:#268bd2>a</span> href<span style=color:#719e07>=</span><span style=color:#2aa198>&#34;{{ .RelPermalink }}&#34;</span>&gt;{{ .Title }}{{ with .Params.wip }} - WIP{{ end }}&lt;/<span style=color:#268bd2>a</span>&gt;&lt;/<span style=color:#268bd2>li</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#268bd2>span</span> class<span style=color:#719e07>=</span><span style=color:#2aa198>&#34;doc-entry-meta&#34;</span>&gt;{{ with .Params.snippet }}{{ . | markdownify }}{{ end }}&lt;/<span style=color:#268bd2>span</span>&gt;
</span></span><span style=display:flex><span>{{ end }}</span></span></code></pre></td></tr></table></div></div></div></figure><h3 id=category-snippets>Category Snippets
<a class=header-link href=#category-snippets><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h3><p>Categories can also have their own snippets, these snippets show up in index and also on each category's page. In Hugo, categories can have their own front matter. Front matter is contained in such a file:</p><ul><li><code>content\categories\category-name\_index.md</code></li></ul><p>This means, in order to have the category snippets, you have to create <code>categories\category-name</code> for each snippet. Front matter for <code>Abandoned Research</code> category is:</p><figure class=code><figcaption><span>Abandoned Research front matter</span></figcaption><div class=codewrapper><div class=highlight><div style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#268bd2>snippet</span>: <span style=color:#2aa198>&#34;Notes about things I started but never finished.&#34;</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>title</span>: <span style=color:#2aa198>&#34;Abandoned Research&#34;</span></span></span></code></pre></td></tr></table></div></div></div></figure><p><strong>Remember</strong> you can have pretty much anything you want in front matter.</p><p>Both kind of snippets also show up in category pages:</p><span class=caption-wrapper><img class=caption src=/images/2018/clone1/03-abandoned.png title="Category page" alt="Category page">
<span class=caption-text>Category page</span></span><h2 id=sidebar>Sidebar
<a class=header-link href=#sidebar><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>I have also changed the sidebar. I have removed the links via the config file and have created a separate sidebar for single pages. The sidebar for single pages now contains a table of contents. The idea was taken from the Hugo theme named <a href=https://github.com/progrhyme/hugo-theme-bootie-docs target=_blank rel="noreferrer noopener">bootie-docs</a>. This means I had to override the single page template by adding my own file at <code>layouts\_default\single.html</code> and use a different partial for the sidebar at <code>partials\sidebar-single.html</code>.</p><figure class=code><figcaption><span>single-sidebar.html</span></figcaption><div class=codewrapper><div class=highlight><div style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#268bd2>aside</span> class<span style=color:#719e07>=</span><span style=color:#2aa198>&#34;sidebar thirds&#34;</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#268bd2>section</span> class<span style=color:#719e07>=</span><span style=color:#2aa198>&#34;first odd&#34;</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#268bd2>h2</span>&gt;Table of Contents&lt;/<span style=color:#268bd2>h2</span>&gt;
</span></span><span style=display:flex><span>            {{ .TableOfContents }}
</span></span><span style=display:flex><span>        &lt;/<span style=color:#268bd2>section</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#268bd2>aside</span>&gt;</span></span></code></pre></td></tr></table></div></div></div></figure><p>Which looks like this:</p><span class=caption-wrapper><img class=caption src=/images/2018/clone1/04-toc.png title="Table of Contents in the sidebar" alt="Table of Contents in the sidebar">
<span class=caption-text>Table of Contents in the sidebar</span></span><p>Unfortunately pinning the toc to the right of the page when scrolling down is much harder than I imagined. I can pin it to right with <code>position: fixed</code> but it will go and get attached to the right of the browser border and not the parent container. I can remove sticky and <code>float:left</code> and it will work correctly on the left side.</p><h2 id=page-header-and-footer>Page Header and Footer
<a class=header-link href=#page-header-and-footer><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Author name and publish date have been removed from footer. Header now contains a link to the original file on Github.</p><h2 id=automation>Automation
<a class=header-link href=#automation><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Automated publishing is performed via <code>Travis CI</code>. You can read about it in a different blog post:</p><ul><li><a href=/blog/2018-04-24-deploying-my-knowledge-base-at-parsiya.io-to-s3-with-travis-ci/ title="Deploying my Knowledge Base at parsiya.io to S3 with Travis CI">Deploying my Knowledge Base at parsiya.io to S3 with Travis CI</a></li></ul><h1 id=conclusion>Conclusion
<a class=header-link href=#conclusion><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h1><p>I have automated my knowledge base creation a bit. I will hopefully make it better. Automation means <del>productivity</del> more time for slacking. As usual, if you have any questions/concerns/feedback, you know where to find me.</p></div><footer><p class=meta><span class="byline author vcard">Posted by <span class=fn>Parsia</span></span>
<time>Apr 24, 2018</time>
<span class=categories>Tags:
<a class=category href=https://parsiya.net/tags/blog>Blog</a> <a class=category href=https://parsiya.net/tags/hugo>Hugo</a></span></p><p class=meta><a class="basic-alignment left" href=https://parsiya.net/blog/2018-04-24-deploying-my-knowledge-base-at-parsiya.io-to-s3-with-travis-ci/ title="Deploying my Knowledge Base at parsiya.io to S3 with Travis CI">Deploying my Knowledge Base at parsiya.io to S3 with Travis CI</a>
<a class="basic-alignment right" href=https://parsiya.net/blog/2018-04-29-learning-go-fuzz-1-iprange/ title="Learning Go-Fuzz 1: iprange">Learning Go-Fuzz 1: iprange</a></p><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//parsiya.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></footer></article></div><aside class="sidebar thirds"><section class="first odd"><h1>Who am I?</h1><p><p>I am Parsia, an application security engineer.</p><p>I write about application security, cryptography, static analysis, and
(of course) videogames.</p><p>Click on <a href=/about/>About Me!</a> to know more.</p></p></section><ul class=sidebar-nav><li class=sidebar-nav-item><a target=_blank rel="me noopener noreferrer" href=https://infosec.exchange/@parsiya title=https://infosec.exchange/@parsiya><i class="fa fa-mastodon fa-3x"></i></a>
<a target=_blank rel="noopener noreferrer" href=https://github.com/parsiya/ title=https://github.com/parsiya/><i class="fa fa-github fa-3x"></i></a>
<a target=_blank rel="noopener noreferrer" href=https://twitter.com/cryptogangsta/ title=https://twitter.com/cryptogangsta/><i class="fa fa-twitter fa-3x"></i></a>
<a target=_blank rel="noopener noreferrer" href=https://www.linkedin.com/in/parsiya title=https://www.linkedin.com/in/parsiya><i class="fa fa-linkedin fa-3x"></i></a></li></ul><section class=odd><h1>Collections</h1><li><a href=https://parsiya.net/categories/thick-client-proxying/ title="Thick Client Proxying">Thick Client Proxying</a></li><li><a href=https://parsiya.net/categories/writeup/ title=CTFs/Writeups>CTFs/Writeups</a></li><li><a href=https://parsiya.net/categories/attack-surface-analysis/ title="Attack Surface Analysis">Attack Surface Analysis</a></li><li><a href=https://parsiya.net/categories/semgrep/ title=Semgrep>Semgrep</a></li><li><a href=https://parsiya.net/categories/bug-bounty/ title="Bug Bounty">Bug Bounty</a></li><li><a href=https://parsiya.net/categories/blockchain/ title="Blockchain (lol)">Blockchain (lol)</a></li><li><a href=https://parsiya.net/categories/crypto/ title=Crypto(graphy)>Crypto(graphy)</a></li><li><a href=https://parsiya.net/categories/burp-extension/ title="Burp Extension Development">Burp Extension Development</a></li><li><a href=https://parsiya.net/categories/automation/ title=Automation>Automation</a></li><li><a href=https://parsiya.net/categories/reverse-engineering/ title="Reverse Engineering">Reverse Engineering</a></li><li><a href=https://parsiya.net/categories/winappdbg/ title="WinAppDbg (use Frida instead)">WinAppDbg (use Frida instead)</a></li><li><a href=https://awsome.pw title='AWSome.pw - S3 bucket squatting - my very "legit" branded vulnerability'>AWSome.pw - S3 bucket squatting - my very "legit" branded vulnerability</a></li></section></aside></div></div><footer role=contentinfo><p>Copyright &copy; 2023 Parsia - <a href=https://parsiya.net/license/>License</a> -
<span class=credit>Powered by <a target=_blank href=https://gohugo.io rel="noopener noreferrer">Hugo</a> and <a target=_blank href=https://github.com/parsiya/hugo-octopress/ rel="noopener noreferrer">Hugo-Octopress</a> theme.</p></footer></body></html>