<!doctype html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,minimum-scale=1,maximum-scale=1"><link href=/css/fonts.css rel=stylesheet type=text/css><title>From Octopress to Hugo</title><link rel=stylesheet href=/css/hugo-octopress.css><link rel=stylesheet href=/css/fork-awesome.min.css><link href=https://parsiya.net/favicon.png rel=icon><meta name=description content><meta name=keywords content="[Parsia Hakimian Parsiya infosec information security]"><meta name=author content="Parsia"><meta name=generator content="Hugo 0.105.0"><meta name=twitter:card content="summary"><meta name=twitter:title content="From Octopress to Hugo"><meta name=twitter:description content="In my previous post I talked about why I moved from Octopress to Hugo. You can also see the last archive of my Octopress blog (previously a private repo on Bitbucket) on github and this is the new site. If I had wanted to use an already existing Hugo theme, it would have not taken more than a few hours.
In this post I am going to talk about how I managed the migration and any interesting things that I encountered in the process. I will also introduce the Hugo-Octopress theme (you are looking at it), which is the classic Octopress theme ported to Hugo. If you like what you see, please go ahead and use it. If there are any issues please use the Github issue tracker or contact me another way. I will try my best to fix them but please remember that I am not a developer and do not know much about css :)."><meta name=twitter:domain content="parsiya.net"><meta name=twitter:creator content="@CryptoGangsta"></head><body><header role=banner><hgroup><h1><a href=https://parsiya.net/>Hackerman's Hacking Tutorials</a></h1><h2>The knowledge of anything, since all things have causes, is not acquired or
complete unless it is known by its causes. - Avicenna</h2></hgroup></header><nav role=navigation><fieldset class=mobile-nav><select onchange="location=this.value"><option value>Navigate…</option><option value=https://parsiya.net/about/>» About Me!</option><option value=https://parsiya.net/cheatsheet/>» Cheat Sheet</option><option value=https://parsiya.io/>» My Clone</option><option value=https://github.com/parsiya/parsiya.net>» Source Repo</option><option value="https://queue.acm.org/detail.cfm?id=3197520">» Manual Work is a Bug</option><option value="https://www.google.com/search?q=andrew+ridgeley">» The Other Guy from Wham!</option></select></fieldset><ul class=main-navigation><li><a href=https://parsiya.net/about/ title="About Me!" target=_blank rel="noopener noreferrer">About Me!</a></li><li><a href=https://parsiya.net/cheatsheet/ title="Cheat Sheet" target=_blank rel="noopener noreferrer">Cheat Sheet</a></li><li><a href=https://parsiya.io/ title="My Clone" target=_blank rel="noopener noreferrer">My Clone</a></li><li><a href=https://github.com/parsiya/parsiya.net title="Source Repo" target=_blank rel="noopener noreferrer">Source Repo</a></li><li><a href="https://queue.acm.org/detail.cfm?id=3197520" title="Manual Work is a Bug" target=_blank rel="noopener noreferrer">Manual Work is a Bug</a></li><li><a href="https://www.google.com/search?q=andrew+ridgeley" title="The Other Guy from Wham!" target=_blank rel="noopener noreferrer">The Other Guy from Wham!</a></li></ul><ul class=subscription><a href=https://parsiya.net/index.xml target=_blank type=application/rss+xml title=RSS rel="noopener noreferrer"><i class="fa fa-rss-square fa-lg"></i></a></ul><form action=https://www.google.com/search method=get target=_blank rel="noopener noreferrer"><fieldset role=search><input class=search type=text name=q results=0 placeholder=Search>
<input type=hidden name=q value=site:https://parsiya.net/></fieldset></form></nav><div id=main><div id=content><div><article class=hentry role=article><header><p class=meta>Feb 2, 2016
- 8 minute read
- <a href=https://parsiya.net/blog/2016-02-02-from-octopress-to-hugo/#disqus_thread>Comments</a>
- <a class=label href=https://parsiya.net/categories/migration-to-hugo/>Migration to Hugo </a><a class=label href=https://parsiya.net/categories/not-security/>Not Security</a></p><h1 class=entry-title>From Octopress to Hugo</h1></header><div class=entry-content><p>In <a href=https://parsiya.net/blog/2016-01-31-why-hugo/ title="Why Hugo?">my previous post</a> I talked about why I moved from Octopress to Hugo. You can also see the last archive of my Octopress blog (previously a private repo on Bitbucket) on <a href=https://github.com/parsiya/Octopress-Blog target=_blank rel="noreferrer noopener">github</a> and this is the new site. If I had wanted to use an already existing Hugo theme, it would have not taken more than a few hours.</p><p>In this post I am going to talk about how I managed the migration and any interesting things that I encountered in the process. I will also introduce the <a href=https://github.com/parsiya/hugo-octopress/ target=_blank rel="noreferrer noopener">Hugo-Octopress</a> theme (you are looking at it), which is the classic Octopress theme ported to Hugo. If you like what you see, please go ahead and use it. If there are any issues please use the <a href=https://github.com/parsiya/Hugo-Octopress/issues target=_blank rel="noreferrer noopener">Github issue tracker</a> or contact me another way. I will try my best to fix them but please remember that I am not a developer and do not know much about css :).</p><p><strong>Update (21 Feb 2016)</strong>: I have added Atom editor code snippets for shortcodes to the README file on Github and to this post.</p><h3 id=hugo-import-jekyll>hugo import jekyll
<a class=header-link href=#hugo-import-jekyll><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h3><p>Hugo has an <a href=https://gohugo.io/commands/hugo_import_jekyll/ target=_blank rel="noreferrer noopener">Import from Jekyll</a> feature. Octopress is also built on Jekyll but its directory structure is a bit different from Jekyll. Just running <code>hugo import jekyll</code> in will not work. In Jekyll posts are usually stored in <code>jekyll-blog/posts/</code> while in Octopress they are in <code>octopress-blog/source/_posts/</code>. When importing from Octopress you have to point it to the <code>source</code> directory like this:</p><pre tabindex=0><code>$ hugo import jekyll source/ hugo-import/
Importing...
Congratulations! 23 posts imported!
Now, start Hugo by yourself:
$ git clone https://github.com/spf13/herring-cove.git hugo-import//themes/herring-cove
$ cd hugo-import/
$ hugo server -w --theme=herring-cove
</code></pre><p>Converted Markdown posts will be in <code>hugo-import/content/posts/</code> and almost everything else will in <code>hugo-import/static/</code>.</p><pre tabindex=0><code># before conversion
---
layout: post
title: &#34;Proxying Hipchat Part 3: SSL Added and Removed Here :^)&#34;
date: 2015-10-19 21:42:10 -0400
comments: true
categories: [&#39;Hipchat&#39;,&#39;Proxying&#39;,&#39;Burp&#39;, &#39;Python&#39;]
---
</code></pre><pre tabindex=0><code># after conversion
---
categories:
- Hipchat
- Proxying
- Burp
- Python
comments: true
date: 2015-10-19T21:42:10Z
title: &#39;Proxying Hipchat Part 3: SSL Added and Removed Here :^)&#39;
url: /2015/10/19/proxying-hipchat-part-3-ssl-added-and-removed-here/
---
</code></pre><p>The only thing I needed to remove was <code>url</code> because I wanted my URLs to be similar to <code>/blog/2015-10-19-proxying-hipchat-part-3-ssl-added-and-removed-here/</code>. This can be accomplished by adding the following to the config file:</p><pre tabindex=0><code>[permalinks]
post = &#34;/blog/:year-:month-:day-:title/&#34;
</code></pre><p>I deleted almost everything else in the <code>static</code> directory apart from the following:</p><ul><li><code>images</code> directory</li><li><code>favicon.png</code>: because I wanted to keep the Octopress feel</li><li><code>stylesheets/screen.css</code>: needed for porting the themes, although I moved it to <code>css\hugo-octopress.css</code></li></ul><p>Perhaps I did not use it properly, it is not built for Octopress anyways but the import process did not do much for me other than creating the basis for a hugo blog (e.g. empty <code>layouts</code> directory). I could have copied the Markdown files and use a bunch of <code>sed</code> commands to replace the headers.</p><h3 id=octopress-classic-theme-or-hugo-octopress>Octopress Classic Theme or Hugo-Octopress
<a class=header-link href=#octopress-classic-theme-or-hugo-octopress><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h3><p>Unlike <a href=https://github.com/duilio/pelican-octopress-theme target=_blank rel="noreferrer noopener">Pelican</a>, Hugo did not have an Octopress theme. I tried other themes such as <a href=https://github.com/zyro/hyde-x target=_blank rel="noreferrer noopener">Hyde-X</a> (which I got a few good ideas from) and <a href=https://github.com/tmaiaroto/hugo-redlounge target=_blank rel="noreferrer noopener">Red Lounge</a>. Hugo has a nice <a href=http://themes.gohugo.io/ target=_blank rel="noreferrer noopener">theme showcase</a> that you can check out. Not all themes are in the showcase, you can see a lot of them <a href=https://github.com/spf13/hugoThemes/ target=_blank rel="noreferrer noopener">here</a>.</p><p>Unfortunately none of them were to my liking. I like the Octopress classic theme. So I decided to port my own. I learned a lot about Hugo's internals and I also learned some <code>css</code>. Hugo's template system should be praised. It's very easy to modify page structure and add/remove elements. Essentially I took the css file from Octopress and then tried to re-create the same structure in Hugo. I also modified the theme to add <a href=http://fontawesome.io target=_blank rel="noreferrer noopener">Font Awesome</a> icons (seen in Hyde-x) in the sidebar. After a lot of tinkering, I have a theme that is decently similar to the classic Octopress theme. The css is a mess and I may never even clean it up. I do not know where to start to be honest so if you decide that is what you want to do, please go ahead and fork the repo.</p><p>You can find the theme on github named <a href=https://github.com/parsiya/hugo-octopress/ target=_blank rel="noreferrer noopener">Hugo-Octopress</a>. These days I use Bitbucket for my private repos and major backup while Github is for public repos (not that I have much open source stuff).</p><h3 id=shortcodes>Shortcodes
<a class=header-link href=#shortcodes><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h3><p>I needed captions for images and codeblocks. Hugo does not have this by default but offers <a href=https://gohugo.io/extras/shortcodes/ target=_blank rel="noreferrer noopener">shortcodes</a> which are very very simple to create. Compared to plugin creation for Jekyll, Octopress or Pelican, it's a walk in the park. I managed to create these two shortcodes in a few minutes. To their credit, Octopress and Jekyll already had these plugins. Pelican supports image captions in <a href=http://docs.getpelican.com/en/3.6.3/content.html target=_blank rel="noreferrer noopener">reStructuredText</a> but not in Markdown.</p><h4 id=codecaption>Codecaption
<a class=header-link href=#codecaption><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h4><p>The codecaption block was quite simple. You can also see the result here.</p><figure class=code><figcaption><span>codecaption shortcode</span></figcaption><div class=codewrapper><div class=highlight><div style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#268bd2>figure</span> class<span style=color:#719e07>=</span><span style=color:#2aa198>&#34;code&#34;</span>&gt;
</span></span><span style=display:flex><span>  &lt;<span style=color:#268bd2>figcaption</span>&gt;
</span></span><span style=display:flex><span>  	&lt;<span style=color:#268bd2>span</span>&gt;{{ .Get &#34;title&#34; }}&lt;/<span style=color:#268bd2>span</span>&gt;
</span></span><span style=display:flex><span>  &lt;/<span style=color:#268bd2>figcaption</span>&gt;
</span></span><span style=display:flex><span>  &lt;<span style=color:#268bd2>div</span> class<span style=color:#719e07>=</span><span style=color:#2aa198>&#34;codewrapper&#34;</span>&gt;
</span></span><span style=display:flex><span>    {{ highlight .Inner (.Get &#34;lang&#34;) &#34;linenos=true&#34; }}
</span></span><span style=display:flex><span>  &lt;/<span style=color:#268bd2>div</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#268bd2>figure</span>&gt;</span></span></code></pre></td></tr></table></div></div></div></figure><p>By using the <code>highlight</code> function in Hugo, I passed everything between the opening and closing tags through <code>.Inner</code> to <code>pygments</code> along with the language and an option to enable line numbers. The output of the <code>highlight</code> function is a table with two rows:</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#268bd2>table</span> class<span style=color:#719e07>=</span><span style=color:#2aa198>&#34;highlighttable&#34;</span>&gt;
</span></span><span style=display:flex><span>  &lt;<span style=color:#268bd2>tbody</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#268bd2>tr</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#268bd2>td</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#268bd2>div</span> class<span style=color:#719e07>=</span><span style=color:#2aa198>&#34;linenodiv&#34;</span> style<span style=color:#719e07>=</span><span style=color:#2aa198>&#34;background-color: #f0f0f0; padding-right: 10px&#34;</span>&gt;
</span></span><span style=display:flex><span>          &lt;<span style=color:#268bd2>pre</span> style<span style=color:#719e07>=</span><span style=color:#2aa198>&#34;line-height: 125%&#34;</span>&gt;
</span></span><span style=display:flex><span>             <span style=color:#586e75>&lt;!-- line numbers go here --&gt;</span>
</span></span><span style=display:flex><span>          &lt;/<span style=color:#268bd2>pre</span>&gt;
</span></span><span style=display:flex><span>        &lt;/<span style=color:#268bd2>div</span>&gt;
</span></span><span style=display:flex><span>      &lt;/<span style=color:#268bd2>td</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#268bd2>td</span> class<span style=color:#719e07>=</span><span style=color:#2aa198>&#34;code&#34;</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#268bd2>div</span> class<span style=color:#719e07>=</span><span style=color:#2aa198>&#34;highlight&#34;</span> style<span style=color:#719e07>=</span><span style=color:#2aa198>&#34;background: #002B36&#34;</span>&gt;
</span></span><span style=display:flex><span>          &lt;<span style=color:#268bd2>pre</span> style<span style=color:#719e07>=</span><span style=color:#2aa198>&#34;line-height: 125%&#34;</span>&gt;
</span></span><span style=display:flex><span>            <span style=color:#586e75>&lt;!-- highlighted code --&gt;</span>
</span></span><span style=display:flex><span>          &lt;/<span style=color:#268bd2>pre</span>&gt;
</span></span><span style=display:flex><span>        &lt;/<span style=color:#268bd2>div</span>&gt;
</span></span><span style=display:flex><span>      &lt;/<span style=color:#268bd2>td</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#268bd2>tr</span>&gt;
</span></span><span style=display:flex><span>  &lt;/<span style=color:#268bd2>tbody</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#268bd2>table</span>&gt;
</span></span></code></pre></div><p>I needed to do something for when the code overflowed. By adding code-wrap in <code>css</code>, line numbers and code would lose alignment. By adding <code>overflow-x: auto</code> to the <code>highlight</code> div, it would get a horizontal scrollbar but that would again mess with the alignment with line numbers.</p><p>The solution was to wrap the whole table in a div and then give the div the following properties in css:</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span><span style=color:#268bd2>div</span>.<span style=color:#268bd2>codewrapper</span> {
</span></span><span style=display:flex><span>    <span style=color:#719e07>overflow-x</span>: <span style=color:#cb4b16>auto</span>;
</span></span><span style=display:flex><span>    <span style=color:#719e07>overflow-y</span>: <span style=color:#cb4b16>hidden</span>;
</span></span><span style=display:flex><span>    <span style=color:#719e07>background-color</span>: <span style=color:#2aa198>#002B36</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>And that enables a horizontal scrollbar as you can see below:</p><figure class=code><figcaption><span>Overflowwwwwwwwww</span></figcaption><div class=codewrapper><div class=highlight><div style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
</span></span><span style=display:flex><span>bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb</span></span></code></pre></td></tr></table></div></div></div></figure><p>Normal backtick blocks are converted into html code similar to the following:</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#268bd2>div</span> class<span style=color:#719e07>=</span><span style=color:#2aa198>&#34;highlight&#34;</span> style<span style=color:#719e07>=</span><span style=color:#2aa198>&#34;background: #002B36&#34;</span>&gt;
</span></span><span style=display:flex><span>  &lt;<span style=color:#268bd2>pre</span> style<span style=color:#719e07>=</span><span style=color:#2aa198>&#34;line-height: 125%&#34;</span>&gt;
</span></span><span style=display:flex><span>    <span style=color:#586e75>&lt;!-- highlighted code --&gt;</span>
</span></span><span style=display:flex><span>  &lt;/<span style=color:#268bd2>pre</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#268bd2>div</span>&gt;
</span></span></code></pre></div><p>To give them the same horizontal scrollbar, I had to modify the css for <code>div.highlight</code>. But that interfered with the div.highlight in the codecaption output. Instead I used the following properties that only applies to div.highlights inside <code>div.entry-content</code> (which contains the contents of each post):</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span><span style=color:#268bd2>div</span>.<span style=color:#268bd2>entry-content</span> <span style=color:#719e07>&gt;</span> <span style=color:#268bd2>div</span>.<span style=color:#268bd2>highlight</span> {
</span></span><span style=display:flex><span>    <span style=color:#719e07>border-color</span>: <span style=color:#2aa198>#002B36</span>;
</span></span><span style=display:flex><span>    <span style=color:#719e07>overflow-x</span>: <span style=color:#cb4b16>auto</span>;
</span></span><span style=display:flex><span>    <span style=color:#719e07>overflow-y</span>: <span style=color:#cb4b16>hidden</span>;
</span></span><span style=display:flex><span>    <span style=color:#719e07>margin-bottom</span>: <span style=color:#2aa198>0.4</span><span style=color:#dc322f>em</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>codecaption's final output is similar to this:</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#268bd2>figure</span> class<span style=color:#719e07>=</span><span style=color:#2aa198>&#34;code&#34;</span>&gt;
</span></span><span style=display:flex><span>  &lt;<span style=color:#268bd2>figcaption</span>&gt;
</span></span><span style=display:flex><span>  	&lt;<span style=color:#268bd2>span</span>&gt;codecaption shortcode&lt;/<span style=color:#268bd2>span</span>&gt;
</span></span><span style=display:flex><span>  &lt;/<span style=color:#268bd2>figcaption</span>&gt;
</span></span><span style=display:flex><span>  &lt;<span style=color:#268bd2>div</span> class<span style=color:#719e07>=</span><span style=color:#2aa198>&#34;codewrapper&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#268bd2>table</span> class<span style=color:#719e07>=</span><span style=color:#2aa198>&#34;highlighttable&#34;</span>&gt;&lt;/<span style=color:#268bd2>table</span>&gt;
</span></span><span style=display:flex><span>  &lt;/<span style=color:#268bd2>div</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#268bd2>figure</span>&gt;
</span></span></code></pre></div><h4 id=imgcap>imgcap
<a class=header-link href=#imgcap><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h4><p>Image caption was also simple. I tried to imitate the output of <code>imgcap</code> plugin in Octopress.</p><figure class=code><figcaption><span>imgcap</span></figcaption><div class=codewrapper><div class=highlight><div style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#268bd2>span</span> class<span style=color:#719e07>=</span><span style=color:#2aa198>&#34;caption-wrapper&#34;</span>&gt;
</span></span><span style=display:flex><span>  &lt;<span style=color:#268bd2>img</span> class<span style=color:#719e07>=</span><span style=color:#2aa198>&#34;caption&#34;</span> src<span style=color:#719e07>=</span><span style=color:#2aa198>&#34;{{ .Get &#34;</span>src&#34; }}&#34; title<span style=color:#719e07>=</span><span style=color:#2aa198>&#34;{{ .Get &#34;</span>title&#34; }}&#34;
</span></span><span style=display:flex><span>   alt<span style=color:#719e07>=</span><span style=color:#2aa198>&#34;{{ .Get &#34;</span>title&#34; }}&#34;&gt;
</span></span><span style=display:flex><span>  &lt;<span style=color:#268bd2>span</span> class<span style=color:#719e07>=</span><span style=color:#2aa198>&#34;caption-text&#34;</span>&gt;{{ .Get &#34;title&#34; }}&lt;/<span style=color:#268bd2>span</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#268bd2>span</span>&gt;</span></span></code></pre></td></tr></table></div></div></div></figure><p>It can be used as follows (replace the space in <code>{{ &lt;</code>): <code>{{ &lt; imgcap title="image caption" src="/images/" >}}</code>.</p><h4 id=atom-editor-code-snippets-for-shortcodes>Atom Editor Code Snippets for Shortcodes
<a class=header-link href=#atom-editor-code-snippets-for-shortcodes><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h4><p>I use Atom editor these days so I created a couple of snippets to insert these shortcodes while editing Markdown files. In order to read on how to create snippets please refer to <a href=https://github.com/atom/snippets target=_blank rel="noreferrer noopener">Atom's Snippets package</a>.</p><p>Open your snippets file (on Windows it's <code>File > Open Your Snippets</code>) and paste the following in the file (remember to remove the space between <code>{{</code> and <code>&lt;</code> that has been added to avoid triggering the shortcode):</p><pre><code>'.source.gfm':
 'imgcap':
   'prefix': 'imgcap'
   'body': '{{ &lt; imgcap title=&quot;$1&quot; src=&quot;/images/$2&quot; &gt;}}'

'.source.gfm':
 'codecaption':
   'prefix': 'codecap'
   'body': &quot;&quot;&quot;
      {{ &lt; codecaption title=&quot;$1&quot; lang=&quot;$2&quot;  &gt;}}
      $3
      {{ &lt; /codecaption &gt;}}
    &quot;&quot;&quot;
</code></pre><p>You can trigger the shortcodes by entering <code>imgcap</code> and <code>codecap</code> respectively and then pressing enter. You can change these by modifying the <code>prefix</code> in the code above. After inserting the shortcode, the cursor will go to the first location which is designated by <code>$1</code> which is <code>title</code> in both cases. After entering the value you can go to <code>$2</code> and <code>$3</code> by pressing <code>tab</code>.</p><p>Hopefully these snippets help in using these shortcodes.</p><h3 id=replacing-liquid-tags>Replacing Liquid tags
<a class=header-link href=#replacing-liquid-tags><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h3><p>Mext step was to replace the liquid tags used in Markdown files. I had a few different types of tags for images and codeblocks. I used a few <code>sed</code> commands to search and replace the items.</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sed -i -- <span style=color:#2aa198>&#39;s/{% imgcap \([^ ]*\) \(.*\) %}/{{ &lt; imgcap src=&#34;\1&#34; caption=&#34;\2&#34; &gt;}}/&#39;</span> content/post/*.markdown
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>sed -i -- <span style=color:#2aa198>&#39;s/{% imgpopup \([^ ]*\) [^ ]* \(.*\) %}/{{ &lt; imgcap src=&#34;\1&#34; caption=&#34;\2&#34; &gt;}}/&#39;</span> *.markdown
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>sed -i -- <span style=color:#2aa198>&#39;s/{% codeblock lang:\([^ ]*\) \(.*\) %}/{{ &lt; codecaption lang=&#34;\1&#34; title=&#34;\2&#34; &gt;}}/&#39;</span> *.markdown
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>sed -i -- <span style=color:#586e75>`</span>s/<span style=color:#719e07>{</span>% endcodeblock %<span style=color:#719e07>}</span>/<span style=color:#719e07>{{</span> &lt; /codecaption &gt;<span style=color:#719e07>}}</span><span style=color:#586e75>`</span> *.markdown
</span></span></code></pre></div><p>In almost all commands, I have modified the opening tag to <code>{{ &lt;</code> to avoid triggering the shortcode so please modify them accordingly.</p><hr><p>This was a nice distraction. I hope to re-start writing about security stuff again. Maybe I should write shorter posts instead of going on and on forever.</p></div><footer><p class=meta><span class="byline author vcard">Posted by <span class=fn>Parsia</span></span>
<time>Feb 2, 2016</time>
<span class=categories>Tags:
<a class=category href=https://parsiya.net/tags/octopress>Octopress</a> <a class=category href=https://parsiya.net/tags/hugo>Hugo</a> <a class=category href=https://parsiya.net/tags/blog>Blog</a> <a class=category href=https://parsiya.net/tags/hugo-octopress>Hugo-Octopress</a></span></p><p class=meta><a class="basic-alignment left" href=https://parsiya.net/blog/2016-01-31-why-hugo/ title="Why Hugo?">Why Hugo?</a>
<a class="basic-alignment right" href=https://parsiya.net/blog/2016-02-14-archive-page-in-hugo/ title="Archive Page in Hugo">Archive Page in Hugo</a></p><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//parsiya.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></footer></article></div><aside class="sidebar thirds"><section class="first odd"><h1>Who am I?</h1><p><p>I am Parsia, an application security engineer.</p><p>I write about application security, reverse engineering,
Go, cryptography, and (obviously) videogames.</p><p>Click on <a href=/about/>About Me!</a> to know more.</p></p></section><ul class=sidebar-nav><li class=sidebar-nav-item><a target=_blank rel="noopener noreferrer" href=https://github.com/parsiya/ title=https://github.com/parsiya/><i class="fa fa-github fa-3x"></i></a>
<a target=_blank rel="noopener noreferrer" href=https://twitter.com/cryptogangsta/ title=https://twitter.com/cryptogangsta/><i class="fa fa-twitter fa-3x"></i></a>
<a target=_blank rel="noopener noreferrer" href=https://keybase.io/parsiya/ title=https://keybase.io/parsiya/><i class="fa fa-keybase fa-3x"></i></a>
<a target=_blank rel="noopener noreferrer" href=https://www.linkedin.com/in/parsiya title=https://www.linkedin.com/in/parsiya><i class="fa fa-linkedin fa-3x"></i></a></li></ul><section class=odd><h1>Collections</h1><li><a href=https://parsiya.net/categories/thick-client-proxying/ title="Thick Client Proxying">Thick Client Proxying</a></li><li><a href=https://parsiya.net/categories/writeup/ title=CTFs/Writeups>CTFs/Writeups</a></li><li><a href=https://parsiya.net/categories/attack-surface-analysis/ title="Attack Surface Analysis">Attack Surface Analysis</a></li><li><a href=https://parsiya.net/categories/bug-bounty/ title="Bug Bounty">Bug Bounty</a></li><li><a href=https://parsiya.net/categories/go/ title=Go/Golang>Go/Golang</a></li><li><a href=https://parsiya.net/categories/blockchain/ title=Blockchain>Blockchain</a></li><li><a href=https://parsiya.net/categories/burp-extension/ title="Burp Extension Development">Burp Extension Development</a></li><li><a href=https://parsiya.net/categories/automation/ title=Automation>Automation</a></li><li><a href=https://parsiya.net/categories/reverse-engineering/ title="Reverse Engineering">Reverse Engineering</a></li><li><a href=https://parsiya.net/categories/crypto/ title=Crypto(graphy)>Crypto(graphy)</a></li><li><a href=https://parsiya.net/categories/winappdbg/ title=WinAppDbg>WinAppDbg</a></li><li><a href=https://awsome.pw title="AWSome.pw - S3 bucket squatting - my very legit branded vulnerability">AWSome.pw - S3 bucket squatting - my very legit branded vulnerability</a></li></section></aside></div></div><footer role=contentinfo><p>Copyright &copy; 2022 Parsia - <a href=https://parsiya.net/license/>License</a> -
<span class=credit>Powered by <a target=_blank href=https://gohugo.io rel="noopener noreferrer">Hugo</a> and <a target=_blank href=https://github.com/parsiya/hugo-octopress/ rel="noopener noreferrer">Hugo-Octopress</a> theme.</p></footer></body></html>