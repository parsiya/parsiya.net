<!doctype html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,minimum-scale=1,maximum-scale=1"><link href=/css/fonts.css rel=stylesheet type=text/css><title>Adding Custom Chroma Styles to Hugo Themes</title><link rel=stylesheet href=/css/hugo-octopress.css><link rel=stylesheet href=/css/fork-awesome.min.css><link href=https://parsiya.net/favicon.png rel=icon><meta name=description content><meta name=keywords content="[Parsia Hakimian Parsiya infosec information security]"><meta name=author content="Parsia"><meta name=generator content="Hugo 0.149.1"><meta name=twitter:card content="summary"><meta name=twitter:title content="Adding Custom Chroma Styles to Hugo Themes"><meta name=twitter:description content="Update: Chroma now supports solarized-dark families. Currently, this version is not used in Hugo.
Hugo has switched to Chroma for syntax highlighting from Pygments. While it still supports Pygments, it appears Chroma is much faster. However, Chroma does not support the solarized dark theme that is used by Hugo-Octopress. So I had to generate the CSS and add it manually.
The process is decently simple because Chroma has a built-in tool for converting styles _tools/style.py. You can see the files inside my clone:

https://github.com/parsiya/Parsia-Clone/tree/master/random/chroma-pygments-convert

"><meta name=twitter:domain content="parsiya.net"><meta name=twitter:creator content="@CryptoGangsta"></head><body><header role=banner><hgroup><h1><a href=https://parsiya.net/>Hackerman's Hacking Tutorials</a></h1><h2>The knowledge of anything, since all things have causes, is not acquired or
complete unless it is known by its causes. - Avicenna</h2></hgroup></header><nav role=navigation><fieldset class=mobile-nav><select onchange="location=this.value"><option value>Navigate…</option><option value=https://parsiya.net/about/>» About Me!</option><option value=https://parsiya.net/cheatsheet/>» Cheat Sheet</option><option value=https://parsiya.io/>» My Clone</option><option value=https://github.com/parsiya/parsiya.net>» Source Repo</option><option value="https://queue.acm.org/detail.cfm?id=3197520">» Manual Work is a Bug</option><option value="https://www.google.com/search?q=andrew+ridgeley">» The Other Guy from Wham!</option></select></fieldset><ul class=main-navigation><li><a href=https://parsiya.net/about/ title="About Me!" target=_blank rel="noopener noreferrer">About Me!</a></li><li><a href=https://parsiya.net/cheatsheet/ title="Cheat Sheet" target=_blank rel="noopener noreferrer">Cheat Sheet</a></li><li><a href=https://parsiya.io/ title="My Clone" target=_blank rel="noopener noreferrer">My Clone</a></li><li><a href=https://github.com/parsiya/parsiya.net title="Source Repo" target=_blank rel="noopener noreferrer">Source Repo</a></li><li><a href="https://queue.acm.org/detail.cfm?id=3197520" title="Manual Work is a Bug" target=_blank rel="noopener noreferrer">Manual Work is a Bug</a></li><li><a href="https://www.google.com/search?q=andrew+ridgeley" title="The Other Guy from Wham!" target=_blank rel="noopener noreferrer">The Other Guy from Wham!</a></li></ul><ul class=subscription><a href=https://parsiya.net/index.xml target=_blank type=application/rss+xml title=RSS rel="noopener noreferrer"><i class="fa fa-rss-square fa-lg"></i></a></ul><form action=https://www.google.com/search method=get target=_blank rel="noopener noreferrer"><fieldset role=search><input class=search type=text name=q results=0 placeholder=Search>
<input type=hidden name=q value=site:https://parsiya.net/></fieldset></form></nav><div id=main><div id=content><div><article class=hentry role=article><header><p class=meta>Apr 15, 2018
- 2 minute read - <a class=label href=https://parsiya.net/categories/hugo/>Hugo </a><a class=label href=https://parsiya.net/categories/not-security/>Not Security</a></p><h1 class=entry-title>Adding Custom Chroma Styles to Hugo Themes</h1></header><div class=entry-content><p>Update: <a href=https://github.com/alecthomas/chroma target=_blank rel="noreferrer noopener">Chroma</a> now <a href=https://github.com/alecthomas/chroma/pull/140 target=_blank rel="noreferrer noopener">supports</a> <code>solarized-dark</code> families. Currently, this version is not used in Hugo.</p><p>Hugo has switched to <a href=https://github.com/alecthomas/chroma target=_blank rel="noreferrer noopener">Chroma</a> for syntax highlighting from Pygments. While it still supports Pygments, it appears Chroma is much faster. However, Chroma does not support the <a href=https://github.com/john2x/solarized-pygment/ target=_blank rel="noreferrer noopener">solarized dark</a> theme that is used by <a href=https://github.com/parsiya/Hugo-Octopress target=_blank rel="noreferrer noopener">Hugo-Octopress</a>. So I had to generate the CSS and add it manually.</p><p>The process is decently simple because Chroma has a <a href=https://github.com/alecthomas/chroma#styles target=_blank rel="noreferrer noopener">built-in tool for converting styles</a> <code>_tools/style.py</code>. You can see the files inside my clone:</p><ul><li><a href=https://github.com/parsiya/Parsia-Clone/tree/master/random/chroma-pygments-convert target=_blank rel="noreferrer noopener">https://github.com/parsiya/Parsia-Clone/tree/master/random/chroma-pygments-convert</a></li></ul><h2 id=instructions>Instructions
<a class=header-link href=#instructions><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>These steps are for an Ubuntu 16 machine, but can be adapted for any OS.</p><ol><li><p>Install Go, configure <code>GOPATH</code> and the rest.</p></li><li><p>Install Chroma with <code>go get github.com/alecthomas/chroma</code>.</p></li><li><p>Install Python 3.</p></li><li><p>Install Pygments for Python 3: <code>sudo apt-get install python3-pygments</code>.</p></li><li><p>Install Pystache for Python 3: <code>sudo apt-get install python3-pystache</code>.</p></li><li><p>Clone <code>solarized dark</code>: <code>git clone https://github.com/john2x/solarized-pygment/</code> (do not need to install it).</p></li><li><p>(Optional) Rename the three py files inside <code>solarized=pygment/pygments_solarized</code> to more descriptive names. For example <code>dark.py</code> might become <code>solarized-dark.py</code>.</p></li><li><p>Open each of them and note the style class name. For example for <code>dark.py</code> it's <code>SolarizedDarkStyle</code>.</p></li><li><p>Copy the files to the <code>pygments</code> installation path. On my machine it was:</p><ul><li><code>/usr/local/lib/python3.5/dist-packages/Pygments-2.2.0-py3.5.egg/pygments/styles</code>.</li></ul></li><li><p>Use the <code>_tools/style.py</code> to generate <code>go</code> files from styles:</p><ul><li><code>python3 style.py [style-name] pygments.styles.[py-file-name].[style-class-name] > style-name.go</code><ul><li><code>style-name</code> is a string with new style's name. E.g. <code>solarized-dark</code>.</li><li><code>py-file-name</code> is the name of the <code>py</code> file (w/o extension) that was copied to the Pygments directory. E.g. <code>dark</code>.</li><li><code>style-class-name</code> is the name of the python class inside the style. E.g. <code>SolarizedDarkStyle</code>.</li></ul></li></ul></li><li><p>My example command was:</p><ul><li><code>python3 style.py solarized-dark pygments.styles.dark.SolarizedDarkStyle > solarized-dark.go</code></li></ul></li><li><p>Repeat for any other styles.</p></li><li><p>Copy the resulting <code>go</code> files to <code>$GOPATH/Go/src/github.com/alecthomas/chroma/styles</code>.</p><ul><li>You can open the file to double-check the style name passed to <code>chroma.MustNewStyle</code>:</li><li><code>var SolarizedDark = Register(chroma.MustNewStyle("solarized-dark", chroma.StyleEntries{</code></li></ul></li><li><p>Now create the following Go application (or copy <code>createCSS.go</code>). Modify the file and style names as needed and execute it:<figure class=code><figcaption><span>createCSS.go</span></figcaption><div class=codewrapper><div class=highlight><div style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">18
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#719e07>package</span> main
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#719e07>import</span> (
</span></span><span style=display:flex><span>    <span style=color:#2aa198>&#34;os&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#2aa198>&#34;github.com/alecthomas/chroma/formatters/html&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#2aa198>&#34;github.com/alecthomas/chroma/styles&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#268bd2>func</span> <span style=color:#268bd2>main</span>() {
</span></span><span style=display:flex><span>    f, _ <span style=color:#719e07>:=</span> os.<span style=color:#268bd2>Create</span>(<span style=color:#2aa198>&#34;solarized-dark.css&#34;</span>)
</span></span><span style=display:flex><span>    <span style=color:#719e07>defer</span> f.<span style=color:#268bd2>Close</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    formatter <span style=color:#719e07>:=</span> html.<span style=color:#268bd2>New</span>(html.<span style=color:#268bd2>WithClasses</span>())
</span></span><span style=display:flex><span>    <span style=color:#719e07>if</span> err <span style=color:#719e07>:=</span> formatter.<span style=color:#268bd2>WriteCSS</span>(f, styles.<span style=color:#268bd2>Get</span>(<span style=color:#2aa198>&#34;solarized-dark&#34;</span>)); err <span style=color:#719e07>!=</span> <span style=color:#cb4b16>nil</span> {
</span></span><span style=display:flex><span>        <span style=color:#b58900>panic</span>(err)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}</span></span></code></pre></td></tr></table></div></div></div></figure></p></li><li><p>Copy/paste the CSS files to your theme's CSS.</p></li><li><p>Inside your site's config file:</p><ul><li>Remove <code>pygmentsUseClassic</code>: This will tell Hugo to use Chroma.</li><li><code>pygmentsuseclasses = true</code>: Use CSS for highlighting.</li><li><code>pygmentscodefences = true</code>: This adds code highlight to code fences.</li></ul></li></ol></div><footer><p class=meta><span class="byline author vcard">Posted by <span class=fn>Parsia</span></span><time>Apr 15, 2018</time>
<span class=categories>Tags:<a class=category href=https://parsiya.net/tags/chroma>Chroma</a> <a class=category href=https://parsiya.net/tags/css>CSS</a></span></p><p class=meta><a class="basic-alignment left" href=https://parsiya.net/blog/2018-03-17-blockchain-security-talk-at-nova-hackers/ title="Blockchain Security Talk at NoVA Hackers">Blockchain Security Talk at NoVA Hackers</a>
<a class="basic-alignment right" href=https://parsiya.net/blog/2018-04-24-deploying-my-knowledge-base-at-parsiya.io-to-s3-with-travis-ci/ title="Deploying my Knowledge Base at parsiya.io to S3 with Travis CI">Deploying my Knowledge Base at parsiya.io to S3 with Travis CI</a></p></footer></article></div><aside class="sidebar thirds"><section class="first odd"><h1>Who am I?</h1><p><p>I am Parsia, a security engineer at Microsoft.</p><p>I write about application security, cryptography, static analysis, and
(of course) videogames.</p><p>Click on <a href=/about/>About Me!</a> to know more. Contact me via any of these ways.</p></p></section><ul class=sidebar-nav><li class=sidebar-nav-item><a target=_blank rel="me noopener noreferrer" href=https://infosec.exchange/@parsiya title=https://infosec.exchange/@parsiya><i class="fa fa-mastodon fa-3x"></i></a>
<a target=_blank rel="noopener noreferrer" href=https://github.com/parsiya/ title=https://github.com/parsiya/><i class="fa fa-github fa-3x"></i></a>
<a target=_blank rel="noopener noreferrer" href=https://twitter.com/cryptogangsta/ title=https://twitter.com/cryptogangsta/><i class="fa fa-twitter fa-3x"></i></a>
<a target=_blank rel="noopener noreferrer" href=https://www.linkedin.com/in/parsiya title=https://www.linkedin.com/in/parsiya><i class="fa fa-linkedin fa-3x"></i></a></li></ul><section class=odd><h1>Collections</h1><li><a href=https://parsiya.net/categories/thick-client-proxying/ title="Thick Client Proxying">Thick Client Proxying</a></li><li><a href=https://parsiya.net/categories/writeup/ title=CTFs/Writeups>CTFs/Writeups</a></li><li><a href=https://parsiya.net/categories/attack-surface-analysis/ title="Attack Surface Analysis">Attack Surface Analysis</a></li><li><a href=https://parsiya.net/categories/static-analysis/ title="Static Analysis">Static Analysis</a></li><li><a href=https://parsiya.net/categories/bug-bounty/ title="Bug Bounty">Bug Bounty</a></li><li><a href=https://parsiya.net/categories/blockchain/ title="Blockchain (lol)">Blockchain (lol)</a></li><li><a href=https://parsiya.net/categories/crypto/ title=Crypto(graphy)>Crypto(graphy)</a></li><li><a href=https://parsiya.net/categories/burp-extension/ title="Burp Extension Development">Burp Extension Development</a></li><li><a href=https://parsiya.net/categories/automation/ title=Automation>Automation</a></li><li><a href=https://parsiya.net/categories/reverse-engineering/ title="Reverse Engineering">Reverse Engineering</a></li><li><a href=https://parsiya.net/categories/winappdbg/ title="WinAppDbg (use Frida instead)">WinAppDbg (use Frida instead)</a></li><li><a href=https://awsome.pw title='AWSome.pw - S3 bucket squatting - my very "legit" branded vulnerability'>AWSome.pw - S3 bucket squatting - my very "legit" branded vulnerability</a></li></section></aside></div></div><footer role=contentinfo><p>Copyright &copy; 2025 Parsia - <a href=https://parsiya.net/license/>License</a> -
<span class=credit>Powered by <a target=_blank href=https://gohugo.io rel="noopener noreferrer">Hugo</a> and <a target=_blank href=https://github.com/parsiya/hugo-octopress/ rel="noopener noreferrer">Hugo-Octopress</a> theme.</p></footer></body></html>