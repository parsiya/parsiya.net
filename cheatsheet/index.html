<!doctype html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,minimum-scale=1,maximum-scale=1"><link href=/css/fonts.css rel=stylesheet type=text/css><title>Cheat Sheet</title><link rel=stylesheet href=/css/hugo-octopress.css><link rel=stylesheet href=/css/fork-awesome.min.css><link href=https://parsiya.net/favicon.png rel=icon><meta name=description content><meta name=keywords content="[Parsia Hakimian Parsiya infosec information security]"><meta name=author content="Parsia"><meta name=generator content="Hugo 0.110.0"><meta name=twitter:card content="summary"><meta name=twitter:title content="Cheat Sheet"><meta name=twitter:description content="You will find those commands and tips that I need from time to time (and usually forget when I need them). This is a page to complement my clone at parsiya.io and gives me a simple repository of how-tos I can access online. Look at the table of contents below or ctrl+f and search for keywords.
Tar Compress a Directory Using tar Decompress a tar.gz file OpenSSL Dump The TLS Certificate of a Domain with OpenSSL TLS Connection with a Specific Ciphersuite with OpenSSL AWS How to Use s3deploy Sync a Directory with an Amazon S3 bucket with s3cmd Change the MIME-Type of the CSS file After Upload to Fix CSS not Displaying Correctly Set the Website Index to a Non-Root file in a Static Website on S3 Use AWS CLI Without Credentials Windows Shortcut to IE (or WinINET) Proxy Settings where."><meta name=twitter:domain content="parsiya.net"><meta name=twitter:creator content="@CryptoGangsta"></head><body><header role=banner><hgroup><h1><a href=https://parsiya.net/>Hackerman's Hacking Tutorials</a></h1><h2>The knowledge of anything, since all things have causes, is not acquired or
complete unless it is known by its causes. - Avicenna</h2></hgroup></header><nav role=navigation><fieldset class=mobile-nav><select onchange="location=this.value"><option value>Navigate…</option><option value=https://parsiya.net/about/>» About Me!</option><option value=https://parsiya.net/cheatsheet/>» Cheat Sheet</option><option value=https://parsiya.io/>» My Clone</option><option value=https://github.com/parsiya/parsiya.net>» Source Repo</option><option value="https://queue.acm.org/detail.cfm?id=3197520">» Manual Work is a Bug</option><option value="https://www.google.com/search?q=andrew+ridgeley">» The Other Guy from Wham!</option></select></fieldset><ul class=main-navigation><li><a href=https://parsiya.net/about/ title="About Me!" target=_blank rel="noopener noreferrer">About Me!</a></li><li><a href=https://parsiya.net/cheatsheet/ title="Cheat Sheet" target=_blank rel="noopener noreferrer">Cheat Sheet</a></li><li><a href=https://parsiya.io/ title="My Clone" target=_blank rel="noopener noreferrer">My Clone</a></li><li><a href=https://github.com/parsiya/parsiya.net title="Source Repo" target=_blank rel="noopener noreferrer">Source Repo</a></li><li><a href="https://queue.acm.org/detail.cfm?id=3197520" title="Manual Work is a Bug" target=_blank rel="noopener noreferrer">Manual Work is a Bug</a></li><li><a href="https://www.google.com/search?q=andrew+ridgeley" title="The Other Guy from Wham!" target=_blank rel="noopener noreferrer">The Other Guy from Wham!</a></li></ul><ul class=subscription><a href=https://parsiya.net/index.xml target=_blank type=application/rss+xml title=RSS rel="noopener noreferrer"><i class="fa fa-rss-square fa-lg"></i></a></ul><form action=https://www.google.com/search method=get target=_blank rel="noopener noreferrer"><fieldset role=search><input class=search type=text name=q results=0 placeholder=Search>
<input type=hidden name=q value=site:https://parsiya.net/></fieldset></form></nav><div id=main><div id=content><div><article class=hentry role=article><header><h1 class=entry-title>Cheat Sheet</h1><p class=meta>Feb 24, 2016 - 32 minute read -
<a class=label href=https://parsiya.net/categories/cheatsheet>Cheatsheet</a></p></header><div class=entry-content><p>You will find those commands and tips that I need from time to time (and usually
forget when I need them). This is a page to complement
<a href=https://parsiya.io target=_blank rel="noreferrer noopener">my clone at parsiya.io</a> and gives me a simple repository of
how-tos I can access online. Look at the table of contents below or <code>ctrl+f</code> and
search for keywords.</p><nav id=TableOfContents><ul><li><a href=#tar>Tar</a><ul><li><a href=#compress-a-directory-using-tar>Compress a Directory Using tar</a></li><li><a href=#decompress-a-targz-file>Decompress a tar.gz file</a></li></ul></li><li><a href=#openssl>OpenSSL</a><ul><li><a href=#dump-the-tls-certificate-of-a-domain-with-openssl>Dump The TLS Certificate of a Domain with OpenSSL</a></li><li><a href=#tls-connection-with-a-specific-ciphersuite-with-openssl>TLS Connection with a Specific Ciphersuite with OpenSSL</a></li></ul></li><li><a href=#aws>AWS</a><ul><li><a href=#how-to-use-s3deploy>How to Use s3deploy</a></li><li><a href=#sync-a-directory-with-an-amazon-s3-bucket-with-s3cmd>Sync a Directory with an Amazon S3 bucket with s3cmd</a></li><li><a href=#change-the-mime-type-of-the-css-file-after-upload-to-fix-css-not-displaying-correctly>Change the MIME-Type of the CSS file After Upload to Fix CSS not Displaying Correctly</a></li><li><a href=#set-the-website-index-to-a-non-root-file-in-a-static-website-on-s3>Set the Website Index to a Non-Root file in a Static Website on S3</a></li><li><a href=#use-aws-cli-without-credentials>Use AWS CLI Without Credentials</a></li></ul></li><li><a href=#windows>Windows</a><ul><li><a href=#shortcut-to-ie-or-wininet-proxy-settings>Shortcut to IE (or WinINET) Proxy Settings</a></li><li><a href=#whereexe>where.exe</a></li><li><a href=#delete-file-or-directory-with-a-path-or-name-longer-than-the-windows-limit>Delete File or Directory with a Path or Name Longer than the Windows Limit</a></li><li><a href=#install-bash-on-windows---outdated>Install 'Bash on Windows' - Outdated</a></li><li><a href=#setup-github-gitlab-ssh-keys-in-bash-on-windows>Setup GitHub-GitLab SSH Keys in 'Bash on Windows'</a></li><li><a href=#exit-status-3221225781>Exit Status 3221225781</a></li><li><a href=#map-a-drive-to-a-specific-directory>Map a Drive to a Specific Directory</a></li><li><a href=#prevent-monitors-from-going-to-sleep-after-locking-the-computer>Prevent Monitors from Going to Sleep after Locking the Computer</a></li><li><a href=#convert-a-plist-file-to-xml-on-windows>Convert a plist File to XML on Windows</a></li><li><a href=#oneliner-to-find-unquoted-service-paths>Oneliner to Find Unquoted Service Paths</a></li><li><a href=#run-chromium-browsers-with-a-proxy>Run Chromium Browsers with a Proxy</a></li><li><a href=#microphone-does-not-work-in-discord>Microphone does not Work in Discord</a></li><li><a href=#extract-msi-files>Extract MSI Files</a></li><li><a href=#disable-autofocus-for-microsoft-lifecam-cinema>Disable Autofocus for Microsoft Lifecam Cinema</a></li><li><a href=#install-windbg-as-the-post-mortem-debugger>Install WinDbg as the Post-Mortem Debugger</a></li><li><a href=#remove-windbg-as-the-post-mortem-debugger>Remove WinDbg as the Post-Mortem Debugger</a></li><li><a href=#open-a-network-monitor-cap-file-in-wireshark-and-save-is-disabled>Open a Network Monitor cap File in Wireshark and Save is Disabled</a></li><li><a href=#keyboard-shortcut-to-run-applications-elevated>Keyboard Shortcut to Run Applications Elevated</a></li><li><a href=#firewall-rules-in-the-registry>Firewall Rules in the Registry</a></li><li><a href=#install-packages-on-windows-from-the-command-line-needs-admin>Install Packages on Windows from the Command Line (Needs Admin)</a></li><li><a href=#uninstall-ie-11-from-windows-7-and-install-an-older-version>Uninstall IE 11 from Windows 7 (and Install an Older Version)</a></li><li><a href=#read-scheduled-tasks-dacl>Read Scheduled Task's DACL</a></li><li><a href=#find-users-under-the-hkey_users-registry-hive>Find Users Under the HKEY_USERS Registry Hive</a></li><li><a href=#find-the-open-handle-to-a-file-or-resource>Find The Open Handle to a File or Resource</a></li><li><a href=#powercfg>powercfg</a></li></ul></li><li><a href=#wsl>WSL</a><ul><li><a href=#file-locations>File locations:</a></li><li><a href=#access-wsl2-files>Access WSL2 Files</a></li><li><a href=#import-and-export>Import and Export</a></li><li><a href=#hugo-server-doesnt-see-file-notifications-events-in-wsl2>Hugo Server doesn't see File Notifications Events in WSL2</a></li><li><a href=#docker-in-wsl2>Docker in WSL2</a></li></ul></li><li><a href=#powershell>PowerShell</a><ul><li><a href=#list-all-files-including-hidden-files>List All Files (Including Hidden Files)</a></li><li><a href=#diff-in-powershell>Diff in PowerShell</a></li><li><a href=#pseudo-grep-in-powershell>Pseudo-grep in PowerShell</a></li><li><a href=#grep-in-command-results>grep in Command Results</a></li><li><a href=#get-acl-and-icaclsexe>Get-Acl and icacls.exe</a></li><li><a href=#time-in-powershell>time in PowerShell</a></li><li><a href=#vhd-file-is-open-in-system-and-cannot-be-deleted>VHD File is Open in System (and Cannot be Deleted)</a></li><li><a href=#base64-encode-and-decode-without-powershell>Base64 Encode and Decode without PowerShell</a></li><li><a href=#load-a-managed-dll-from-powershell>Load a Managed DLL from PowerShell</a></li><li><a href=#zip-a-directory-with-powershell>Zip a Directory with PowerShell</a></li></ul></li><li><a href=#hyper-v>Hyper-V</a><ul><li><a href=#cannot-create-virtual-switch>Cannot Create Virtual Switch</a></li><li><a href=#cloning-vms-in-hyper-v>Cloning VMs in Hyper-V</a></li><li><a href=#the-guest-has-no-internet>The Guest Has No Internet</a></li><li><a href=#higher-resolution-for-debianubuntu-guest-in-hyper-v>Higher Resolution For Debian/Ubuntu Guest in Hyper-V</a></li><li><a href=#creating-an-ubuntu-vm-in-hyper-v>Creating an Ubuntu VM in Hyper-V</a></li><li><a href=#windows-dns-cache-is-not-getting-populated-in-hyper-v-guest>Windows DNS Cache is not Getting Populated in Hyper-V Guest</a></li></ul></li><li><a href=#virtualbox>VirtualBox</a><ul><li><a href=#restart-clipboard-functionality-in-virtualbox-after-guest-resume>Restart Clipboard Functionality in VirtualBox After Guest Resume</a></li><li><a href=#change-the-hardware-uuid-of-cloned-windows-vms-to-avoid-windows-reactivation>Change the Hardware UUID of Cloned Windows VMs to Avoid Windows Reactivation</a></li><li><a href=#increase-vm-disk-size>Increase VM Disk Size</a></li></ul></li><li><a href=#git>Git</a><ul><li><a href=#create-new-branch-and-merge>Create New Branch and Merge</a></li><li><a href=#only-clone-a-certain-branch>Only Clone a Certain Branch</a></li><li><a href=#undo-remote-git-history-after-push>Undo Remote git History after Push</a></li><li><a href=#sync-a-fork-with-the-original-repository>Sync a Fork with the Original Repository</a></li><li><a href=#use-notepad-as-git-editor-on-windows-via-cygwin>Use Notepad++ as git Editor on Windows via Cygwin</a></li><li><a href=#change-remote-for-an-existing-git-repository>Change Remote for an Existing Git Repository</a></li><li><a href=#list-all-authors-in-a-git-repository>List All Authors in a Git Repository</a></li><li><a href=#rewrite-author-for-older-commits>Rewrite Author for Older Commits</a></li><li><a href=#remove-uncommitted-files-from-staging>Remove Uncommitted Files from Staging</a></li><li><a href=#make-git-case-sensitive-with-a-catch>Make git Case Sensitive (with a Catch)</a></li><li><a href=#exclude-a-committed-file-with-gitignore>Exclude a Committed File with gitignore</a></li><li><a href=#sign-git-commits>Sign git Commits</a></li></ul></li><li><a href=#visual-studio-code>Visual Studio Code</a><ul><li><a href=#associate-an-extension-with-a-specific-language>Associate an Extension with a Specific Language</a></li><li><a href=#install-a-specific-version-of-an-extension>Install a Specific Version of an Extension</a></li><li><a href=#couldnt-start-client-gopls-unsupported-uri-scheme>couldn't start client gopls unsupported URI scheme</a></li></ul></li><li><a href=#sublime-text-3>Sublime Text 3</a><ul><li><a href=#fix-margo-build-failed-for-gosublime-on-windows>Fix "MarGo build failed" for GoSublime on Windows</a></li><li><a href=#open-the-same-file-in-a-new-tab>Open the Same File in a New Tab</a></li></ul></li><li><a href=#burp>Burp</a><ul><li><a href=#quality-of-life-tips-and-tricks-for-burp>Quality of Life Tips and Tricks for Burp</a></li><li><a href=#selected-text-in-burp-is-black>Selected Text in Burp is Black</a></li><li><a href=#using-iptables-to-proxy-android-apps-with-burp>Using iptables to Proxy Android Apps with Burp</a></li></ul></li><li><a href=#linux>Linux</a><ul><li><a href=#python-module-installed-with-pip-but-command-is-not-available>Python Module Installed with pip but Command is not Available</a></li><li><a href=#add-a-user-to-sudoers-on-debian>Add a User to sudoers on Debian</a></li><li><a href=#grep>grep</a></li></ul></li><li><a href=#docker>Docker</a><ul><li><a href=#commands>Commands</a></li><li><a href=#troubleshooting>Troubleshooting</a></li></ul></li><li><a href=#python>Python</a><ul><li><a href=#create-all-possible-combinations-of-two-lists-of-strings>Create All Possible Combinations of Two Lists of Strings</a></li><li><a href=#multi-line-string>Multi-line String</a></li><li><a href=#main>Main</a></li><li><a href=#format-string-with>Format String with</a></li><li><a href=#bytearray>bytearray</a></li><li><a href=#cyclic-xor-on-bytearrays>Cyclic XOR on bytearrays</a></li><li><a href=#cyclic-xor-on-strings>Cyclic XOR on Strings</a></li><li><a href=#python-one-liners-in-command-line>Python One-Liners in Command Line</a></li></ul></li><li><a href=#java>Java</a><ul><li><a href=#enable-log4j-for-a-java-app>Enable Log4j for a Java App</a></li></ul></li><li><a href=#angular>Angular</a><ul><li><a href=#find-the-version-of-angular-on-a-website-with-devtools>Find the Version of Angular on a Website with DevTools</a></li></ul></li><li><a href=#misc>Misc</a><ul><li><a href=#download-youtube-videos-with-subtitles-with-youtube-dl>Download Youtube Videos with Subtitles with youtube-dl</a></li><li><a href=#download-different-qualities-with-youtube-dl>Download Different Qualities with youtube-dl</a></li><li><a href=#print-envelopes-with-brother-printers-and-libreoffice>Print Envelopes with Brother printers and LibreOffice</a></li><li><a href=#tab-size-4-in-the-github-web-interface>Tab Size 4 in the GitHub Web Interface</a></li><li><a href=#ffmpeg>ffmpeg</a></li><li><a href=#wrap-long-lines-in-page-source-in-firefox>Wrap Long Lines in Page Source in Firefox</a></li><li><a href=#wireshark-not-equal-filter>Wireshark Not Equal Filter</a></li></ul></li><li><a href=#regex>Regex</a><ul><li><a href=#regex-to-search-for-urls-in-burp-responses>Regex to Search for URLs in Burp Responses</a></li></ul></li></ul></nav><hr><h1 id=tar>Tar
<a class=header-link href=#tar><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h1><p>Insert <a href=https://xkcd.com/1168/ target=_blank rel="noreferrer noopener">XKCD 1168</a>, hur dur!</p><h2 id=compress-a-directory-using-tar>Compress a Directory Using tar
<a class=header-link href=#compress-a-directory-using-tar><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p><code>tar -zcvf target_tar.tar.gz directory_to_be_compressed</code></p><h2 id=decompress-a-targz-file>Decompress a tar.gz file
<a class=header-link href=#decompress-a-targz-file><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p><code>tar -zxvf target_tar.tar.gz -C path/to/decompress/</code></p><hr><h1 id=openssl>OpenSSL
<a class=header-link href=#openssl><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h1><h2 id=dump-the-tls-certificate-of-a-domain-with-openssl>Dump The TLS Certificate of a Domain with OpenSSL
<a class=header-link href=#dump-the-tls-certificate-of-a-domain-with-openssl><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p><code>echo | openssl s_client -connect HOST:PORT 2>/dev/null | openssl x509 -text -noout</code></p><h2 id=tls-connection-with-a-specific-ciphersuite-with-openssl>TLS Connection with a Specific Ciphersuite with OpenSSL
<a class=header-link href=#tls-connection-with-a-specific-ciphersuite-with-openssl><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p><code>openssl s_client -connect HOST:PORT -cipher cipher-name -brief</code></p><ul><li><code>-brief</code>: reduced output</li><li><code>cipher-name</code>: A cipher from output of <code>openssl ciphers</code> command</li></ul><hr><h1 id=aws>AWS
<a class=header-link href=#aws><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h1><h2 id=how-to-use-s3deploy>How to Use s3deploy
<a class=header-link href=#how-to-use-s3deploy><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>I have switched to s3deploy from s3cmd: <a href=https://github.com/bep/s3deploy target=_blank rel="noreferrer noopener">https://github.com/bep/s3deploy</a>.</p><p>Create a file named <code>.s3deploy.yaml</code> (note the period) in the root of website. I
have:</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#268bd2>routes</span>:
</span></span><span style=display:flex><span>    - <span style=color:#268bd2>route</span>: <span style=color:#2aa198>&#34;^.+\\.(js|css|svg|ttf|eot|woff|woff2)$&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#586e75>#  cache static assets for 20 years</span>
</span></span><span style=display:flex><span>      <span style=color:#268bd2>headers</span>:
</span></span><span style=display:flex><span>         <span style=color:#268bd2>Cache-Control</span>: <span style=color:#2aa198>&#34;max-age=630720000, no-transform, public&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#268bd2>gzip</span>: <span style=color:#cb4b16>true</span>
</span></span><span style=display:flex><span>    - <span style=color:#268bd2>route</span>: <span style=color:#2aa198>&#34;^.+\\.(png|jpg)$&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#268bd2>headers</span>:
</span></span><span style=display:flex><span>         <span style=color:#268bd2>Cache-Control</span>: <span style=color:#2aa198>&#34;max-age=630720000, no-transform, public&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#268bd2>gzip</span>: <span style=color:#cb4b16>true</span>
</span></span><span style=display:flex><span>    - <span style=color:#268bd2>route</span>: <span style=color:#2aa198>&#34;^.+\\.(html|xml|json|js)$&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#268bd2>gzip</span>: <span style=color:#cb4b16>true</span>
</span></span></code></pre></div><p>The file is self-explanatory. Don't set <code>gzip</code> for <code>txt</code> files,
<strong>it will break your keybase proof</strong>.</p><p>Then run (change the region if needed):</p><p><code>s3deploy -source=public/ -region=us-east-1 -bucket=[bucketname]</code></p><p>To pass your AWS key and secret, you can either set them in an environment
variable or in this file:</p><p><code>c:/Users/[your user]/.aws/credentials</code></p><p>Like this:</p><pre tabindex=0><code>[default]
aws_access_key_id=
aws_secret_access_key=
</code></pre><h2 id=sync-a-directory-with-an-amazon-s3-bucket-with-s3cmd>Sync a Directory with an Amazon S3 bucket with s3cmd
<a class=header-link href=#sync-a-directory-with-an-amazon-s3-bucket-with-s3cmd><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>These might be updated because I do not use s3cmd anymore.</p><p><code>python s3cmd sync --acl-public --delete-removed --rr directory-to-sync/ s3://bucket-name</code></p><p>E.g., uploading the Hugo generated public directory to my website:\
<code>python s3cmd sync --acl-public --delete-removed --rr public/ s3://parsiya.net</code></p><ul><li><code>--acl-public</code>: Anyone can only read.</li><li><code>--delete-removed</code>: Delete objects with no corresponding local files.</li></ul><h2 id=change-the-mime-type-of-the-css-file-after-upload-to-fix-css-not-displaying-correctly>Change the MIME-Type of the CSS file After Upload to Fix CSS not Displaying Correctly
<a class=header-link href=#change-the-mime-type-of-the-css-file-after-upload-to-fix-css-not-displaying-correctly><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p><code>python s3cmd --acl-public --no-preserve --mime-type="text/css" put public/css/hugo-octopress.css s3://parsiya.net/css/hugo-octopress.css</code></p><figure class=code><figcaption><span>My runme.bat to upload my Hugo blog to the S3 bucket</span></figcaption><div class=codewrapper><div class=highlight><div style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#495050">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span><span style=color:#b58900>rd </span>/q /s public
</span></span><span style=display:flex><span>hugo
</span></span><span style=display:flex><span><span style=color:#b58900>rd </span>/q /s public\post
</span></span><span style=display:flex><span><span style=color:#b58900>del </span>/s /a .\*thumbs*.db
</span></span><span style=display:flex><span><span style=color:#b58900>del </span>/s /a public\categories\*index*.xml
</span></span><span style=display:flex><span><span style=color:#b58900>del </span>/s /a public\tags\*index*.xml
</span></span><span style=display:flex><span>python s3cmd sync --acl-public --cf-invalidate --delete-removed -MP --no-preserve --rr public/ s3://parsiya.net
</span></span><span style=display:flex><span>python s3cmd --acl-public --no-preserve --cf-invalidate --add-header=<span style=color:#2aa198>&#34;Expires: Sat, 20 Nov 2286 19:00:00 GMT&#34;</span> --mime-type=<span style=color:#2aa198>&#34;text/css&#34;</span> put public/css/<span style=color:#b58900>hugo-octopress</span>.css s3://parsiya.net/css/<span style=color:#b58900>hugo-octopress</span>.css
</span></span><span style=display:flex><span><span style=color:#b58900>rd </span>/q /s public</span></span></code></pre></td></tr></table></div></div></div></figure><h2 id=set-the-website-index-to-a-non-root-file-in-a-static-website-on-s3>Set the Website Index to a Non-Root file in a Static Website on S3
<a class=header-link href=#set-the-website-index-to-a-non-root-file-in-a-static-website-on-s3><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>When setting up a static website in an S3 bucket, you need to specify an index
and an error page. The index cannot be in a subdirectory but the error page
can. Set the index to a non-existent file (e.g. <code>whatever.crap</code>) and set the
error page to the actual index page. The browser will be redirected to the error
page:</p><ul><li>Source: <a href=https://stackoverflow.com/a/20273548 target=_blank rel="noreferrer noopener">https://stackoverflow.com/a/20273548</a></li></ul><p>If you are relying on error pages, this will mess with your site because every
error will be redirected to the index. Another way is to set a meta redirect in
the index file in the root directory and redirect to that page.</p><h2 id=use-aws-cli-without-credentials>Use AWS CLI Without Credentials
<a class=header-link href=#use-aws-cli-without-credentials><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Use <code>--no-sign-request</code>. E.g., to list all items in a world-readable bucket:</p><ul><li><code>aws s3 ls s3://bucket-name --no-sign-request --recursive</code></li></ul><hr><h1 id=windows>Windows
<a class=header-link href=#windows><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h1><h2 id=shortcut-to-ie-or-wininet-proxy-settings>Shortcut to IE (or WinINET) Proxy Settings
<a class=header-link href=#shortcut-to-ie-or-wininet-proxy-settings><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p><code>control inetcpl.cpl,,4</code></p><h2 id=whereexe>where.exe
<a class=header-link href=#whereexe><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p><code>where.exe</code> searches for files. If no location is passed it searches in the
local directory and then in PATH.</p><ul><li><code>/R</code> searches recursively in a specific location.</li><li><code>/T</code> displays file size.</li><li><code>/?</code> for help.</li></ul><h2 id=delete-file-or-directory-with-a-path-or-name-longer-than-the-windows-limit>Delete File or Directory with a Path or Name Longer than the Windows Limit
<a class=header-link href=#delete-file-or-directory-with-a-path-or-name-longer-than-the-windows-limit><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><pre tabindex=0><code>mkdir empty_dir
robocopy empty_dir the_dir_to_delete /s /mir
rmdir empty_dir
rmdir the_dir_to_delete
</code></pre><ul><li>Source: <a href=http://superuser.com/a/467814 target=_blank rel="noreferrer noopener">http://superuser.com/a/467814</a></li></ul><h2 id=install-bash-on-windows---outdated>Install 'Bash on Windows' - Outdated
<a class=header-link href=#install-bash-on-windows---outdated><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p><code>lxrun /install</code> does not work anymore.</p><ol><li>Run the following command in an admin PowerShell and restart.<ul><li><code>Enable-WindowsOptionalFeature -Online -FeatureName Microsoft-Windows-Subsystem-Linux</code></li></ul></li><li>Search for <code>Ubuntu</code> in Windows store and install Ubuntu.</li><li>After Ubuntu is installed, search for <code>Ubuntu</code> in the start menu and run it.</li><li>Follow the prompts to choose a username and password.</li><li>Type <code>bash</code> in a command prompt to start it.</li></ol><h2 id=setup-github-gitlab-ssh-keys-in-bash-on-windows>Setup GitHub-GitLab SSH Keys in 'Bash on Windows'
<a class=header-link href=#setup-github-gitlab-ssh-keys-in-bash-on-windows><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Main instructions:</p><ul><li><a href=https://help.github.com/en/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent target=_blank rel="noreferrer noopener">https://help.github.com/en/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent</a></li></ul><ol><li><p>Generate a key inside bash and save it at the default location inside <code>home</code>.</p><ul><li><code>ssh-keygen -t rsa -b 4096 -C "your_email@example.com"</code></li></ul></li><li><p>Make sure you have <code>ssh-agent</code> installed in WSL. It should be installed out
of the box.</p></li><li><p>Add the following lines to <code>~/.bashrc</code> to start <code>ssh-agent</code> and add your key
every time you run <code>bash</code>.</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#268bd2>env</span><span style=color:#719e07>=</span>~/.ssh/agent.env
</span></span><span style=display:flex><span>agent_load_env <span style=color:#719e07>()</span> <span style=color:#719e07>{</span> <span style=color:#b58900>test</span> -f <span style=color:#2aa198>&#34;</span><span style=color:#268bd2>$env</span><span style=color:#2aa198>&#34;</span> <span style=color:#719e07>&amp;&amp;</span> . <span style=color:#2aa198>&#34;</span><span style=color:#268bd2>$env</span><span style=color:#2aa198>&#34;</span> &gt;| /dev/null ; <span style=color:#719e07>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>agent_start <span style=color:#719e07>()</span> <span style=color:#719e07>{</span>
</span></span><span style=display:flex><span>    <span style=color:#719e07>(</span><span style=color:#b58900>umask</span> 077; ssh-agent &gt;| <span style=color:#2aa198>&#34;</span><span style=color:#268bd2>$env</span><span style=color:#2aa198>&#34;</span><span style=color:#719e07>)</span>
</span></span><span style=display:flex><span>    . <span style=color:#2aa198>&#34;</span><span style=color:#268bd2>$env</span><span style=color:#2aa198>&#34;</span> &gt;| /dev/null ; <span style=color:#719e07>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>agent_load_env
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#586e75># agent_run_state: 0=agent running w/ key; 1=agent w/o key; 2= agent not running</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>agent_run_state</span><span style=color:#719e07>=</span><span style=color:#719e07>$(</span>ssh-add -l &gt;| /dev/null 2&gt;&amp;1; <span style=color:#b58900>echo</span> <span style=color:#268bd2>$?</span><span style=color:#719e07>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#719e07>if</span> <span style=color:#719e07>[</span> ! <span style=color:#2aa198>&#34;</span><span style=color:#268bd2>$SSH_AUTH_SOCK</span><span style=color:#2aa198>&#34;</span> <span style=color:#719e07>]</span> <span style=color:#719e07>||</span> <span style=color:#719e07>[</span> <span style=color:#268bd2>$agent_run_state</span> <span style=color:#719e07>=</span> <span style=color:#2aa198>2</span> <span style=color:#719e07>]</span>; <span style=color:#719e07>then</span>
</span></span><span style=display:flex><span>    agent_start
</span></span><span style=display:flex><span>    ssh-add
</span></span><span style=display:flex><span><span style=color:#719e07>elif</span> <span style=color:#719e07>[</span> <span style=color:#2aa198>&#34;</span><span style=color:#268bd2>$SSH_AUTH_SOCK</span><span style=color:#2aa198>&#34;</span> <span style=color:#719e07>]</span> <span style=color:#719e07>&amp;&amp;</span> <span style=color:#719e07>[</span> <span style=color:#268bd2>$agent_run_state</span> <span style=color:#719e07>=</span> <span style=color:#2aa198>1</span> <span style=color:#719e07>]</span>; <span style=color:#719e07>then</span>
</span></span><span style=display:flex><span>    ssh-add
</span></span><span style=display:flex><span><span style=color:#719e07>fi</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#b58900>unset</span> env
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#586e75># adding the GitHub key to ssh-agent</span>
</span></span><span style=display:flex><span><span style=color:#586e75># change if the private key file changes</span>
</span></span><span style=display:flex><span>ssh-add ~/.ssh/id_rsa
</span></span></code></pre></div></li><li><p>Add the SSH key to Github/GitLab.</p></li><li><p>Navigate to your git folder in a normal command prompt and run <code>bash</code> and use
git normally.</p></li></ol><h2 id=exit-status-3221225781>Exit Status 3221225781
<a class=header-link href=#exit-status-3221225781><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p><strong>TL;DR:</strong> <code>exit status 3221225781</code> on Windows means a DLL is missing. In this
case, <code>diff.exe</code> was missing <code>libintl3.dll</code> and it made <code>gorename</code> stop working.
Get and install it from:</p><ul><li><a href=http://gnuwin32.sourceforge.net/packages/libintl.htm target=_blank rel="noreferrer noopener">http://gnuwin32.sourceforge.net/packages/libintl.htm</a></li></ul><p><strong>The Actual Problem</strong>:\
<code>gorename</code> stopped working and I got the following error in the VS Code console:</p><pre tabindex=0><code>Rename failed: gorename: computing diff: exit status 3221225781 gorename:
    computing diff: exit status 3221225781 gorename: failed to rewrite 2 files 
</code></pre><p>Searching for <code>3221225781</code> sent me to
<a href=https://github.com/rust-lang/rust/issues/42744 target=_blank rel="noreferrer noopener">Rust language issue 42744</a>
which means a DLL is missing. Run <code>where diff</code> to find out where it is and it
was in <code>\Go\bin\diff.exe</code>. Running <code>diff.exe</code> manually got this prompt.</p><pre tabindex=0><code>The code execution cannot proceed because libintl3.dll was not found.
Reinstalling the program may fix this problem.
</code></pre><p>Go to <a href=http://gnuwin32.sourceforge.net/packages.html target=_blank rel="noreferrer noopener">http://gnuwin32.sourceforge.net/packages.html</a> and click on <code>Setup</code> in
front of <code>DiffUtils</code>. It will download a package which contains the utils and
two DLLs: <code>libintl3.dll</code> and <code>libiconv2.dll</code>. Copy all of them to where the
original <code>diff.exe</code> was and it should work.</p><h2 id=map-a-drive-to-a-specific-directory>Map a Drive to a Specific Directory
<a class=header-link href=#map-a-drive-to-a-specific-directory><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>This is useful when you want to refer to a specific directory as a drive.</p><ul><li><code>subst X: C:\path\to\source\code</code></li></ul><p>Two problems:</p><ol><li>This is not persistent. To make it persistent, use the solutions <a href=https://superuser.com/questions/29072/how-to-make-subst-mapping-persistent-across-reboots/926426 target=_blank rel="noreferrer noopener">here</a>.</li><li>It cannot be shared with docker. E.g., The drive is not shared when trying to
share a directory with source code with docker for
<a href=https://code.visualstudio.com/docs/remote/containers#_installation target=_blank rel="noreferrer noopener">VS Code docker development</a>.</li></ol><p>We could use <code>net use</code> as follows but it does not show up in Docker's
<code>settings > Shared Drives</code>, either.</p><ul><li><code>net use W: \\localhost\$c\path\to\source\code</code></li></ul><p>To share a drive, create a VHD mount and share it instead.</p><p>Create a VHD and mount it:</p><ul><li><a href=https://gist.github.com/zaenk/97cb663738ca8e0225da25a28f2feb75#mount-a-vhd target=_blank rel="noreferrer noopener">https://gist.github.com/zaenk/97cb663738ca8e0225da25a28f2feb75#mount-a-vhd</a></li></ul><p>Automount it at startup:</p><ul><li><a href=http://woshub.com/auto-mount-vhd-at-startup/ target=_blank rel="noreferrer noopener">http://woshub.com/auto-mount-vhd-at-startup/</a></li></ul><h2 id=prevent-monitors-from-going-to-sleep-after-locking-the-computer>Prevent Monitors from Going to Sleep after Locking the Computer
<a class=header-link href=#prevent-monitors-from-going-to-sleep-after-locking-the-computer><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>After locking the computer the monitor might go to sleep. To disable:</p><ol><li>Open the following registry key:<pre tabindex=0><code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Power\PowerSettings\
7516b95f-f776-4464-8c53-06167f40cc99\8EC4B3A5-6868-48c2-BE75-4F3044BE88A7
</code></pre></li><li>Look at the value <code>Attributes</code> and change it from <code>0x00000001</code> to <code>0x00000002</code>.</li><li>Open the Control Panel (control.exe) and go to <code>Power Options</code>.</li><li>Click <code>Change plan settings</code> in front of the selected power plan.</li><li>Click <code>Change advanced power settings</code>.</li><li>Now under <code>Display</code> there should be a new item: <code>Console lock display off timeout</code>.</li><li>Change this to whatever you want.</li></ol><h2 id=convert-a-plist-file-to-xml-on-windows>Convert a plist File to XML on Windows
<a class=header-link href=#convert-a-plist-file-to-xml-on-windows><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p><code>plutil -convert xmlfile.xml com.apple.springboard.plist</code> where:</p><ul><li><p><code>plutil</code> is installed with iTunes.</p></li><li><p><code>plutil</code> is in <code>C:\Program Files\Common Files\Apple\Apple Application Support</code>.</p></li><li><p>Source: <a href=https://superuser.com/a/1264369 target=_blank rel="noreferrer noopener">https://superuser.com/a/1264369</a></p></li></ul><h2 id=oneliner-to-find-unquoted-service-paths>Oneliner to Find Unquoted Service Paths
<a class=header-link href=#oneliner-to-find-unquoted-service-paths><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p><code>wmic service get displayname,pathname|findstr /IV "C:\Windows"|findstr /IV """</code></p><p>Unquoted service paths are usually not exploitable. See my
<a href=/blog/2020-07-25-no-you-are-not-getting-a-cve-for-that/ title="No, You Are Not Getting a CVE for That" rel=nofollow target=_blank>No, You Are Not Getting a CVE for That</a>.</p><h2 id=run-chromium-browsers-with-a-proxy>Run Chromium Browsers with a Proxy
<a class=header-link href=#run-chromium-browsers-with-a-proxy><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Chromium uses the WinINET proxy settings. Instead of redirecting everything to
the browser, we can set the proxy using the command line (also works for
Chrome/Edge and other browsers built on Chromium but not Electron):</p><ul><li><code>"C:\Program Files (x86)\Microsoft\Edge\Application\msedge.exe" --proxy-server="http://localhost:8080"</code></li></ul><p>The following does the same but falls back to direct connect if the proxy is not
available. Don't use this because you will not know if the fall back happens:</p><ul><li><code>"C:\Program Files (x86)\Microsoft\Edge\Application\msedge.exe" --proxy-server="http://localhost:8080,direct://"</code></li></ul><h2 id=microphone-does-not-work-in-discord>Microphone does not Work in Discord
<a class=header-link href=#microphone-does-not-work-in-discord><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>You might have enabled the privacy settings in Windows 10.</p><ol><li>Settings.</li><li>Search for Privacy.</li><li><code>Microphone privacy settings</code>.</li><li>Allow apps to access your Microphone.</li><li>Enable for <code>Win32WebViewHost</code>.</li><li>???</li><li>Yell at <del>your raid group</del> DPS for standing in fire.</li></ol><h2 id=extract-msi-files>Extract MSI Files
<a class=header-link href=#extract-msi-files><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Use the built-in <code>msiexec</code> tool.</p><ul><li><code>msiexec /a c:\path\to\file.msi /qb TARGETDIR=C:\absolute\path\to\extract\directory</code></li><li>Path to the msi file (the first path) can be relative. The second one must be
absolute and does not accept <code>/</code> as path separator.</li><li>The target directory must exist.</li><li>If the path to the target directory (the second path) is not absolute, we
will get this error: <code>Could not access network location 'xxx'</code>.</li></ul><h2 id=disable-autofocus-for-microsoft-lifecam-cinema>Disable Autofocus for Microsoft Lifecam Cinema
<a class=header-link href=#disable-autofocus-for-microsoft-lifecam-cinema><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>If the "Microsoft Lifecam Cinema" webcam constantly autofocuses on Windows 10.</p><ol><li>Open the Windows camera app.<ol><li>If the camera is already in-use (e.g., videoconferencing tool) turn it
off in the other app.</li></ol></li><li>Click the middle icon from the three icons to the left.</li><li>Drag the slider to make it manual focus.</li></ol><p>You can also try in Skype which is where the old utility is accessible.</p><ol><li>Open Skype.</li><li>Click on settings (gear to the right).</li><li>Select "Video Device" in the left side bar.</li><li>Select the "Microsoft LifeCam Cinema."</li><li>Click on "Camera Settings" (this will open the old utility that went away).</li><li>Click on the "Camera Control" tab and remove the "Auto" checkbox in front of
focus.</li></ol><ul><li>These are connected so if you have the camera app open and change the focus in
Skype you can see the change immediately.</li><li><strong>The setting is lost after restart</strong>. Just opening the Camera app does the job.</li></ul><h2 id=install-windbg-as-the-post-mortem-debugger>Install WinDbg as the Post-Mortem Debugger
<a class=header-link href=#install-windbg-as-the-post-mortem-debugger><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><ol><li>Install WinDbg as part of the Windows 10 SDK.<ul><li><a href=https://docs.microsoft.com/en-us/windows-hardware/drivers/debugger/debugger-download-tools target=_blank rel="noreferrer noopener">https://docs.microsoft.com/en-us/windows-hardware/drivers/debugger/debugger-download-tools</a></li></ul><ol><li>NYou do not need most of the stuff that the SDK installs. You will only
need to install <code>Debugging Tools for Windows</code>.</li></ol></li><li>Open an admin cmd and navigate to the following dir:<ul><li><code>C:\Program Files (x86)\Windows Kits\10\Debuggers\</code></li></ul></li><li>Go into each of the x64 and x86 directories and run the following command:<ul><li><code>windbg -I</code></li></ul></li><li>You should get a prompt that says WinDbg has been installed as the default
post-mortem debugger.</li></ol><h2 id=remove-windbg-as-the-post-mortem-debugger>Remove WinDbg as the Post-Mortem Debugger
<a class=header-link href=#remove-windbg-as-the-post-mortem-debugger><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Delete some registry keys.</p><ul><li>64-bit version<ol><li>Go to <code>HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\AeDebug</code>.</li><li>Remove the <code>Debugger</code> key.</li></ol></li><li>32-bit version<ol><li>Go to <code>HKEY_LOCAL_MACHINE\SOFTWARE\WOW6432Node\Microsoft\Windows NT\CurrentVersion\AeDebug</code>.</li><li>Remove the <code>Debugger</code> key.</li></ol></li></ul><h2 id=open-a-network-monitor-cap-file-in-wireshark-and-save-is-disabled>Open a Network Monitor cap File in Wireshark and Save is Disabled
<a class=header-link href=#open-a-network-monitor-cap-file-in-wireshark-and-save-is-disabled><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>This happens in two instances:</p><ol><li><strong>Not fixable</strong>: If the NetMon capture file contains IEEE 802.11 plus Network
Monitor radio header encapsulated packets instead of Per packet encapsulated
packets.<ul><li>Seems like this happens outside of VMs when we are capturing traffic for a wireless network interface.</li></ul></li><li><strong>Fix below</strong>: If you save the display filter in the capture file. The filter
will be first packet in the resulting cap file and that's what causes this
issue.<ul><li>Do not check the <code>Record display filter in capture file</code> when saving the
file in Netmon.</li></ul></li></ol><p>If you already have a file with the display filter you can remove it.</p><ol><li>Use the <code>netmon_filter</code> in Wireshark. You will most likely see one packet.
It's the first packet and its ID is 1.</li><li>Close it and use <code>editcap</code> to remove it.<ul><li><code>C:\Program Files\Wireshark>editcap -F netmon2 C:\path\to\netmon.cap C:\path\to\modified.cap 1</code></li></ul></li><li>Open <code>modified.cap</code> in Wireshark and save it as pcap.</li></ol><ul><li>Source: <a href=https://ask.wireshark.org/question/7163/my-save-and-save-as-are-grayed-out/ target=_blank rel="noreferrer noopener">https://ask.wireshark.org/question/7163/my-save-and-save-as-are-grayed-out/</a></li></ul><h2 id=keyboard-shortcut-to-run-applications-elevated>Keyboard Shortcut to Run Applications Elevated
<a class=header-link href=#keyboard-shortcut-to-run-applications-elevated><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>For example, running <code>notepad</code> as admin.</p><ol><li>Open the start menu. E.g., Windows key.</li><li>Type <code>notepad</code>, now notepad is selected.</li><li>Alternatively, open the Run dialog with <code>Windows+R</code> and enter <code>notepad</code>.</li><li>Press <code>ctrl+shift+enter</code>.</li><li>UAC pops up.</li></ol><p>This also works if you select a shortcut and press <code>ctrl+shift+enter</code>.</p><h2 id=firewall-rules-in-the-registry>Firewall Rules in the Registry
<a class=header-link href=#firewall-rules-in-the-registry><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>If you cannot delete firewall rules in the GUI, delete their corresponding rule
in the registry (user rules are represented by a GUID). Also helps with reading
the rules because the rule text might not say which executable is targeted:</p><p>Location:</p><ul><li><code>Computer\HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\SharedAccess\Parameters\FirewallPolicy\FirewallRules</code></li></ul><p>Format:</p><ul><li><a href=https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-gpfas/2efe0b76-7b4a-41ff-9050-1023f8196d16 target=_blank rel="noreferrer noopener">https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-gpfas/2efe0b76-7b4a-41ff-9050-1023f8196d16</a></li></ul><h2 id=install-packages-on-windows-from-the-command-line-needs-admin>Install Packages on Windows from the Command Line (Needs Admin)
<a class=header-link href=#install-packages-on-windows-from-the-command-line-needs-admin><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>To install <code>telnet client</code> in an admin command prompt:</p><pre tabindex=0><code>pkgmgr /iu:&#34;TelnetClient&#34;
</code></pre><h2 id=uninstall-ie-11-from-windows-7-and-install-an-older-version>Uninstall IE 11 from Windows 7 (and Install an Older Version)
<a class=header-link href=#uninstall-ie-11-from-windows-7-and-install-an-older-version><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><ol><li>Go to <code>Control Panel > Programs > Programs and features</code>.</li><li>Select <code>Installed Updated</code>.</li><li>Look for <code>Internet Explorer 11</code>.</li><li>Right click and uninstall.</li><li>Download older version of IE (e.g. IE 9) for Windows 7 and install it.</li></ol><h2 id=read-scheduled-tasks-dacl>Read Scheduled Task's DACL
<a class=header-link href=#read-scheduled-tasks-dacl><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Find the task name in the <code>PathToTask</code> registry key and use it in the command:</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span><span style=color:#268bd2>$PathToTask</span> = <span style=color:#2aa198>&#34;HKLM:\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Schedule\TaskCache\Tree\[replace with task]&#34;</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>$SDBin</span> =  ( (<span style=color:#b58900>get-itemProperty</span> <span style=color:#268bd2>$PathToTask</span>).sd )
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#b58900>ConvertFrom-SddlString</span> ([<span style=color:#cb4b16>wmiclass</span>]<span style=color:#2aa198>&#34;Win32_SecurityDescriptorHelper&#34;</span>).BinarySDToSDDL(<span style=color:#268bd2>$SDBin</span>).SDDL
</span></span></code></pre></div><ul><li>Source: <a href=https://serverfault.com/a/997929 target=_blank rel="noreferrer noopener">https://serverfault.com/a/997929</a></li></ul><h2 id=find-users-under-the-hkey_users-registry-hive>Find Users Under the HKEY_USERS Registry Hive
<a class=header-link href=#find-users-under-the-hkey_users-registry-hive><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p><code>HKEY_LOCAL_USER</code> is a subset of <code>HKEY_USERS</code> for the current user. Under
<code>HKEY_USERS</code> we see a bunch of directories. To figure out the users for these
directories we need to see them in the following location:</p><ul><li><code>Computer\HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\ProfileList\</code></li></ul><p>For example, I have <code>HKEY_USERS\S-1-5-21-2868049494-289672223-1164028246-1001</code>
in a VM. So I go to
<code>Computer\HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\ProfileList\S-1-5-21-2868049494-289672223-1164028246-1001</code>
and look under the <code>ProfileImagePath</code> key to see which user it is.</p><ul><li>Source: <a href=https://stackoverflow.com/a/2919369 target=_blank rel="noreferrer noopener">https://stackoverflow.com/a/2919369</a></li></ul><h2 id=find-the-open-handle-to-a-file-or-resource>Find The Open Handle to a File or Resource
<a class=header-link href=#find-the-open-handle-to-a-file-or-resource><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><ol><li>Open <code>Resource Monitor</code>.</li><li><code>CPU</code> tab.</li><li><code>Associated Handles</code> section > enter the name of the file/resource in the
search field. Look at the source for a screenshot.</li><li>Kill the process using t he handle.</li></ol><ul><li>Source: <a href=https://superuser.com/a/643312 target=_blank rel="noreferrer noopener">https://superuser.com/a/643312</a></li></ul><h2 id=powercfg>powercfg
<a class=header-link href=#powercfg><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><ul><li><code>powercfg /requests</code><ul><li>See which programs have requested to keep the device display active.</li><li>Source: <a href=https://textslashplain.com/2020/10/05/images-keeping-you-awake/ target=_blank rel="noreferrer noopener">https://textslashplain.com/2020/10/05/images-keeping-you-awake/</a></li></ul></li><li><code>powercfg /sleepstudy</code><ul><li>Generates a fancy HTML page.</li><li>Source: <a href=https://twitter.com/mattt_cyber target=_blank rel="noreferrer noopener">Matt Thomlinson</a>.</li></ul></li></ul><h1 id=wsl>WSL
<a class=header-link href=#wsl><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h1><p>See current distributions and their version: <code>wsl -l -v</code>.</p><p>Set the default version to 2 for all new distributions:
<code>wsl --set-default-version 2</code></p><p>Convert a distro (e.g., <code>Ubuntu-18.04</code>) to version 2:
<code>wsl --set-version Ubuntu-18.04 2</code></p><p>Moving to WSL2 will prevent your machine from talking to the internet with some
VPN software and if you are connected to the VPN. WSL2 uses Hyper-V. Hyper-V VMs
do not have network connectivity on VPN.</p><h2 id=file-locations>File locations:
<a class=header-link href=#file-locations><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><ul><li><code>%LocalAppData%/packages/{full-distro-name}/LocalState</code> where
<code>full-distro-name</code> is:<ul><li>Ubuntu 18: <code>CanonicalGroupLimited.Ubuntu18.04onWindows_79rhkp1fndgsc</code></li><li>Debian: <code>TheDebianProject.DebianGNULinux_76v4gfsz19hv4</code></li></ul></li></ul><h2 id=access-wsl2-files>Access WSL2 Files
<a class=header-link href=#access-wsl2-files><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>In WSL1, everything is a file. In WSL2 we have a <code>ext4.vhdx</code> file. WSL 2 uses a
fully managed VM. Hence, why WSL1 has better performance on Windows files.</p><p>Individual files on WSL2 are at <code>\\wsl$\{distro}</code> where <code>distro</code> comes from
<code>wsl -l -v</code>. E.g., <code>Debian</code>.</p><h2 id=import-and-export>Import and Export
<a class=header-link href=#import-and-export><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>If working with <code>Debian</code>.</p><pre tabindex=0><code># run all on Windows

# stop the distro
$ wsl --terminate Debian

# export 
wsl --export Debian C:/path/to/debian.tar
</code></pre><p>Now, we can import it as another distro. This way we can have multiple instances
of the same distro:</p><pre tabindex=0><code>wsl --import NewDebian C:/path/to/newdebian/ C:/path/to/debian.tar
</code></pre><p>Note: If you import a distro like this, the <code>ext4.vhdx</code> file be located inside
<code>newdebian</code> and will not be in
<code>%LocalAppData%/packages/{full-distro-name}/LocalState</code>.</p><h2 id=hugo-server-doesnt-see-file-notifications-events-in-wsl2>Hugo Server doesn't see File Notifications Events in WSL2
<a class=header-link href=#hugo-server-doesnt-see-file-notifications-events-in-wsl2><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Solution: Move the files to the Linux filesystem from Windows.</p><p>More info: <a href=https://parsiya.io/random/wsl2-hugo-watch/ target=_blank rel="noreferrer noopener">https://parsiya.io/random/wsl2-hugo-watch/</a></p><h2 id=docker-in-wsl2>Docker in WSL2
<a class=header-link href=#docker-in-wsl2><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><ol><li>Start with <a href=https://docs.docker.com/desktop/windows/wsl/ target=_blank rel="noreferrer noopener">https://docs.docker.com/desktop/windows/wsl/</a></li><li>Install Docker Desktop for Windows.</li><li><code>Settings (gear icon) > Use the WSL2 based engine</code> (was checked by default for me).</li><li><code>Settings > Resources (side bar) > Enable integration with additional distros</code> and select any other distro.</li><li><code>sudo usermod -aG docker $USER</code>.</li><li>???</li><li>Logout and login.</li></ol><hr><h1 id=powershell>PowerShell
<a class=header-link href=#powershell><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h1><h2 id=list-all-files-including-hidden-files>List All Files (Including Hidden Files)
<a class=header-link href=#list-all-files-including-hidden-files><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p><code>Get-ChildItem "searchterm" -recurse -force -path c:\ | select-object FullName</code></p><ul><li><code>-recurse</code>: recursive. Loops through all directories</li><li><code>-force</code>: list hidden files.</li><li><code>select-object</code>: Selects each file from last point</li><li><code>FullName</code>: Only display file name</li></ul><h2 id=diff-in-powershell>Diff in PowerShell
<a class=header-link href=#diff-in-powershell><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p><code>Compare-Object (Get-Content new1.txt) (Get-Content new2.txt) | Format-List >> Diff-Output</code></p><p>Output will be in format of</p><ul><li><code>InputObject</code>: <code>c:\users\username\somefile</code> -- line content</li><li><code>SideIndicator</code>: <code>=></code> -- exists in new2.txt (second file, file to the right)</li></ul><h2 id=pseudo-grep-in-powershell>Pseudo-grep in PowerShell
<a class=header-link href=#pseudo-grep-in-powershell><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Alternatively, use <a href=https://github.com/BurntSushi/ripgrep target=_blank rel="noreferrer noopener">ripgrep</a> like <code>rg -i 'whatever'</code>.</p><p>In PowerShell:</p><p><code>findstr "something" *.txt</code> will include filename and line (no number AFAIK).</p><p><code>findstr /spin /c:"keyword" *.*</code></p><ul><li>/s: recursive - will search through the current directory and all
sub-directories.</li><li>/p: skip binary files (or files with characters that cannot be printed).</li><li>/i: case-insensitive - remove if you want case sensitive search.</li><li>/n: print line number.</li></ul><p>If you want to search for different keywords (with OR) remove the <code>/c:</code></p><p><code>findstr /spin "keyword1 keyword2" *.*</code></p><p>will search for <code>keyword1 OR keyword2</code> in files</p><ul><li>Source: <a href=https://technet.microsoft.com/en-us/library/Cc732459.aspx target=_blank rel="noreferrer noopener">https://technet.microsoft.com/en-us/library/Cc732459.aspx</a></li></ul><h2 id=grep-in-command-results>grep in Command Results
<a class=header-link href=#grep-in-command-results><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p><code>whatever.exe | Select-String -pattern "admin"</code></p><h2 id=get-acl-and-icaclsexe>Get-Acl and icacls.exe
<a class=header-link href=#get-acl-and-icaclsexe><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p><code>Get-Acl -path c:\windows\whatever.exe | Format-List</code></p><p><code>icacls.exe c:\windows\whatever.exe</code></p><h2 id=time-in-powershell>time in PowerShell
<a class=header-link href=#time-in-powershell><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p><code>Measure-Command {python whatever.py}</code></p><h2 id=vhd-file-is-open-in-system-and-cannot-be-deleted>VHD File is Open in System (and Cannot be Deleted)
<a class=header-link href=#vhd-file-is-open-in-system-and-cannot-be-deleted><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>You clicked on a VHD file and now cannot delete it. Use this PowerShell command
to dismount it. The path to the VHD should be absolute.</p><p><code>Dismount-DiskImage -ImagePath 'C:\full\path\to\whatever.vhd'</code></p><h2 id=base64-encode-and-decode-without-powershell>Base64 Encode and Decode without PowerShell
<a class=header-link href=#base64-encode-and-decode-without-powershell><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Use <code>certutil</code> for bootleg base64 encoding/decoding:</p><ul><li><code>certutil -encode whatever.exe whatever.base64</code></li><li><code>certutil -decode whetever.base64 whatever.exe</code></li></ul><h2 id=load-a-managed-dll-from-powershell>Load a Managed DLL from PowerShell
<a class=header-link href=#load-a-managed-dll-from-powershell><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><ul><li>Source: <a href=https://www.leeholmes.com/blog/2006/10/27/load-a-custom-dll-from-powershell/ target=_blank rel="noreferrer noopener">https://www.leeholmes.com/blog/2006/10/27/load-a-custom-dll-from-powershell/</a></li></ul><h2 id=zip-a-directory-with-powershell>Zip a Directory with PowerShell
<a class=header-link href=#zip-a-directory-with-powershell><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><ul><li><code>Compress-Archive -Path C:\path\to\folder\ -DestinationPath c:\path\to\destination\archive</code></li></ul><p>Note the destination file will be <code>archive.zip</code> but we don't need to provide the
extension in the command.</p><ul><li>Source: <a href=https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.archive/compress-archive target=_blank rel="noreferrer noopener">https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.archive/compress-archive</a></li></ul><hr><h1 id=hyper-v>Hyper-V
<a class=header-link href=#hyper-v><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h1><p>Switching from VirtualBox for Hyper-V had its own set of tradeoffs.</p><h2 id=cannot-create-virtual-switch>Cannot Create Virtual Switch
<a class=header-link href=#cannot-create-virtual-switch><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>When creating a Virtual Switch in Hyper-V you get an error along the lines of
"failed adding ports to the switch" and "a parameter passed was invalid."</p><ol><li>Open an admin command prompt and run <code>netcfg -d</code>.</li><li>Restart the host machine.</li></ol><h2 id=cloning-vms-in-hyper-v>Cloning VMs in Hyper-V
<a class=header-link href=#cloning-vms-in-hyper-v><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>You cannot clone VMs in Hyper-V like VirtualBox. Create a copy of the vhd(x)
hard disk and use it in a new VM. Yes, it's as manual as it sounds.</p><h2 id=the-guest-has-no-internet>The Guest Has No Internet
<a class=header-link href=#the-guest-has-no-internet><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>The internet recommends creating an external virtual switch but it did not work
for me. I deleted the external switch and used the default switch and it somehow
worked so try doing that.</p><p>This also happens if you are using an active VPN connection on the host.</p><h2 id=higher-resolution-for-debianubuntu-guest-in-hyper-v>Higher Resolution For Debian/Ubuntu Guest in Hyper-V
<a class=header-link href=#higher-resolution-for-debianubuntu-guest-in-hyper-v><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Seems like the highest resolution is 1080p.</p><ol><li><code>sudo nano /etc/default/grub</code>.</li><li>Change the line with <code>GRUB_CMDLINE_LINUX_DEFAULT</code> to<ul><li><code>GRUB_CMDLINE_LINUX_DEFAULT="quiet splash video=hyperv_fb:1920x1080"</code></li></ul></li><li><code>sudo update-grub</code>.</li><li>Restart the VM.</li></ol><ul><li>Source: <a href=https://askubuntu.com/a/745142 target=_blank rel="noreferrer noopener">https://askubuntu.com/a/745142</a></li></ul><h2 id=creating-an-ubuntu-vm-in-hyper-v>Creating an Ubuntu VM in Hyper-V
<a class=header-link href=#creating-an-ubuntu-vm-in-hyper-v><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Most important item, do not select <code>log in automatically</code> during setup.
Otherwise, xRDP will fail silently.</p><ul><li><a href=https://www.hanselman.com/blog/UsingEnhancedModeUbuntu1804ForHyperVOnWindows10.aspx target=_blank rel="noreferrer noopener">https://www.hanselman.com/blog/UsingEnhancedModeUbuntu1804ForHyperVOnWindows10.aspx</a></li></ul><h2 id=windows-dns-cache-is-not-getting-populated-in-hyper-v-guest>Windows DNS Cache is not Getting Populated in Hyper-V Guest
<a class=header-link href=#windows-dns-cache-is-not-getting-populated-in-hyper-v-guest><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>In a default Hyper-V guest networking setup the local DNS resolver cache is
empty.</p><ul><li>Symptom: <code>ipconfig /displaydns</code> prints nothing.</li><li>Solution: Modify the DNS server for the network adapter and manually add a DNS
server like <code>8.8.8.8</code> or <code>1.1.1.1</code>.</li></ul><hr><h1 id=virtualbox>VirtualBox
<a class=header-link href=#virtualbox><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h1><h2 id=restart-clipboard-functionality-in-virtualbox-after-guest-resume>Restart Clipboard Functionality in VirtualBox After Guest Resume
<a class=header-link href=#restart-clipboard-functionality-in-virtualbox-after-guest-resume><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Sometimes disabling and enabling the clipboard in VirtualBox menu works.</p><p>Or in the Windows guest:</p><ol><li>Kill <code>VBoxTray.exe</code> in task manager.</li><li>Start <code>VBoxTray.exe</code> again.</li></ol><ul><li>Source: <a href=https://superuser.com/a/691337 target=_blank rel="noreferrer noopener">https://superuser.com/a/691337</a></li></ul><h2 id=change-the-hardware-uuid-of-cloned-windows-vms-to-avoid-windows-reactivation>Change the Hardware UUID of Cloned Windows VMs to Avoid Windows Reactivation
<a class=header-link href=#change-the-hardware-uuid-of-cloned-windows-vms-to-avoid-windows-reactivation><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>You cloned a Windows VirtualBox VM and now you have to activate it again. This
script changes the hardware UUID of the cloned machine to the old one. No
reactivation needed.</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span><span style=color:#268bd2>$ORIGVirtualMachineName</span>=<span style=color:#2aa198>&#34;Windows 10 - Base&#34;</span>   <span style=color:#586e75># Old VM name as it appears in VirtualBox</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>$clonedVirtualMachineName</span>=<span style=color:#2aa198>&#34;Win10Clone&#34;</span>        <span style=color:#586e75># New VM name</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>$vboxDir</span>=<span style=color:#2aa198>&#34;c:\Program Files\Oracle\VirtualBox&#34;</span> <span style=color:#586e75># Directory containing VBoxManage</span>
</span></span><span style=display:flex><span><span style=color:#b58900>cd </span><span style=color:#268bd2>$vboxDir</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>$uid</span>=$($($(.\VBoxManage.exe showvminfo <span style=color:#268bd2>$ORIGVirtualMachineName</span>|<span style=color:#b58900>select-string</span> <span style=color:#2aa198>&#34;Hardware UUID:&#34;</span>).ToString()).Split())[<span style=color:#2aa198>4</span>]
</span></span><span style=display:flex><span>.\VBoxManage modifyvm <span style=color:#268bd2>$clonedVirtualMachineName</span> --hardwareuuid <span style=color:#268bd2>$uid</span>
</span></span></code></pre></div><h2 id=increase-vm-disk-size>Increase VM Disk Size
<a class=header-link href=#increase-vm-disk-size><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>The default modern.ie VMs come with a 40GB vmdk hard drive and I want to resize
them to 100GB (because videogames are huge). VirtualBox cannot resize it. We can
clone it to vdi, resize it and convert it back to vdmk.</p><p><code>VBoxManage</code> is at <code>c:\Program Files\Oracle\VirtualBox</code> (default installation).</p><ol><li>Convert vmdk hard disk to vdi:<ul><li><code>VBoxManage clonemedium "MSEdge - Win10.vmdk" "MSEdge - Win10.vdi" --format vdi</code></li></ul></li><li>Resize vdi.<ul><li><code>VBoxManage modifymedium "MSEdge - Win10.vdi" --resize 102400</code></li></ul></li><li>Convert vdi back to vdmk (I usually just keep it as vdi).<ul><li><code>VBoxManage clonemedium "MSEdge - Win10.vdi" "MSEdge - Win10-resized.vdi" --format vmdk</code></li></ul></li><li>Extend the original partition in guest with <code>Disk Management</code> (Windows).<ol><li>Run <code>diskmgmt.msc</code>.</li><li>Click on the existing partition and select <code>Extend</code>.</li><li>Use the wizard and add the new empty space to the origin partition.</li></ol></li><li>Delete unused vdi or vmdk files.</li><li>???</li><li>Enjoy 100 GBs of space. Well, 83GB on a default Win10 x64 install.</li></ol><ul><li>Source: <a href=https://stackoverflow.com/a/12456219 target=_blank rel="noreferrer noopener">https://stackoverflow.com/a/12456219</a></li></ul><hr><h1 id=git>Git
<a class=header-link href=#git><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h1><p>I know a total of 5-6 git commands.</p><h2 id=create-new-branch-and-merge>Create New Branch and Merge
<a class=header-link href=#create-new-branch-and-merge><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>This works with small branches (e.g. one fix or so). Adapted from a
<a href=https://confluence.atlassian.com/bitbucket/use-a-git-branch-to-merge-a-file-681902555.html target=_blank rel="noreferrer noopener">Bitbucket tutorial</a>.</p><ol><li><p>Create a new branch and checkout - <code>git checkout -b fix-whatever</code>\
This will create a branch of your current one so make sure you are creating a
branch from the branch you want. This is the same as <code>git branch whatever</code>
and <code>git checkout whatever</code>.</p></li><li><p>Make changes and commit - <code>git add - git commit</code>\
Make any changes you want to do, then stage and commit.</p></li><li><p>Push the branch to the remote repo [optional] - <code>git push</code>\
This can be safely done because it's an obscure branch and no one else cares about it.</p></li><li><p>Switch to the original branch to merge - <code>git checkout master</code>\
The branch from step one.</p></li><li><p>Merge the branches - <code>git merge fix-whatever</code>.\
Alternatively, squash all commits into one <code>git merge --squash fix-whatever</code>
and then <code>git commit -m "One message for all commits in merge"</code>.</p></li><li><p>Delete the branch - <code>git branch -d fix-whatever</code>\
We don't need it anymore. If it was pushed to remote, then we need to delete
it there too.</p></li></ol><h2 id=only-clone-a-certain-branch>Only Clone a Certain Branch
<a class=header-link href=#only-clone-a-certain-branch><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p><code>git clone -b &lt;branch> &lt;remote_repo></code></p><h2 id=undo-remote-git-history-after-push>Undo Remote git History after Push
<a class=header-link href=#undo-remote-git-history-after-push><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Because this keeps happening to me.</p><ol><li><p>Reset the head in local repo N commits back. - <code>git reset HEAD~N</code>\
Where N is the number of commits that you want to revert.</p></li><li><p>Make changes and stage them - <code>git add</code></p></li><li><p>Commit the changes - <code>git commit</code></p></li><li><p>Force push the local repo to remote - <code>git push -f</code>\
Note: This will force the update and erase the commit history online. I only
do it for my solo repositories.</p></li></ol><h2 id=sync-a-fork-with-the-original-repository>Sync a Fork with the Original Repository
<a class=header-link href=#sync-a-fork-with-the-original-repository><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>You have forked a repository a while ago. You want to sync the new changes.</p><ol><li>Add the original repository as <code>upstream</code>.<ol><li><code>git remote add upstream git@github.com:original-user/original-repo.git</code></li><li><code>git remote add upstream https://github.com/original-user/original-repo/</code></li><li>Check with <code>git remote -v1</code></li></ol></li><li><code>git fetch upstream</code></li><li>Merge the <code>upstream/main</code> branch into the local <code>main</code> branch:<ol><li><code>git merge upstream/main</code></li></ol></li></ol><ul><li>Source: GitHub documentation.<ul><li><a href=https://docs.github.com/en/free-pro-team@latest/github/collaborating-with-issues-and-pull-requests/configuring-a-remote-for-a-fork target=_blank rel="noreferrer noopener">Configuring a remote for a fork</a></li><li><a href=https://docs.github.com/en/free-pro-team@latest/github/collaborating-with-issues-and-pull-requests/syncing-a-fork target=_blank rel="noreferrer noopener">Syncing a fork</a></li></ul></li></ul><h2 id=use-notepad-as-git-editor-on-windows-via-cygwin>Use Notepad++ as git Editor on Windows via Cygwin
<a class=header-link href=#use-notepad-as-git-editor-on-windows-via-cygwin><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Create a file called <code>npp</code> with the following content and copy it to
<code>cygwin\bin</code>. Modify the path of notepad++ to point to your installation.</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#2aa198>&#39;C:/Program Files (x86)/Notepad++/notepad++.exe&#39;</span> -multiInst -notabbar -nosession -noPlugin <span style=color:#2aa198>&#34;</span><span style=color:#719e07>$(</span>cygpath -w <span style=color:#2aa198>&#34;</span><span style=color:#268bd2>$*</span><span style=color:#2aa198>&#34;</span><span style=color:#719e07>)</span><span style=color:#2aa198>&#34;</span>
</span></span></code></pre></div><p>Run the following command in Cygwin to set it as the global git editor:</p><pre tabindex=0><code>git config --global core.editor npp
</code></pre><h2 id=change-remote-for-an-existing-git-repository>Change Remote for an Existing Git Repository
<a class=header-link href=#change-remote-for-an-existing-git-repository><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>For example, moving <code>repository</code> from Bitbucket to GitHub or back.</p><pre tabindex=0><code>git remote set-url origin git@github.com:parsiya/repository.git
</code></pre><h2 id=list-all-authors-in-a-git-repository>List All Authors in a Git Repository
<a class=header-link href=#list-all-authors-in-a-git-repository><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>I wanted to see if I was still showing up as <code>root</code> in old commits.</p><pre tabindex=0><code>git shortlog -s | cut -c8-
</code></pre><h2 id=rewrite-author-for-older-commits>Rewrite Author for Older Commits
<a class=header-link href=#rewrite-author-for-older-commits><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p><code>parsiya.net</code> had commits as <code>root</code> from when I was using it offline. I wanted
to change everything to my own username.</p><ol><li>If you want to start at root - <code>git rebase -i --root</code></li><li>If you want to start from commit AAAA - <code>git rebase -i AAAA</code></li><li>Change <code>pick</code> to <code>edit</code> for every commit with the old author and save. Rebase starts and pauses at every commit with <code>edit</code>.</li><li>Change the author: \
<code>git commit --amend --author="Author Name &lt;email@address.com>"</code></li><li>Continue the rebase - <code>git rebase --continue</code></li><li>Rinse and repeat.</li></ol><ul><li>Source: <a href=https://stackoverflow.com/a/3042512 target=_blank rel="noreferrer noopener">https://stackoverflow.com/a/3042512</a></li></ul><h2 id=remove-uncommitted-files-from-staging>Remove Uncommitted Files from Staging
<a class=header-link href=#remove-uncommitted-files-from-staging><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>You have added files with <code>git add</code> but have not committed them and want to
remove some (not all) instead of <code>git reset</code>.</p><pre tabindex=0><code>git reset HEAD -- file/directory
</code></pre><h2 id=make-git-case-sensitive-with-a-catch>Make git Case Sensitive (with a Catch)
<a class=header-link href=#make-git-case-sensitive-with-a-catch><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>In a case-insensitive file system (Windows, Mac), git is case-insensitive by
default. So if you rename <code>Bob.jpg</code> to <code>bob.jpg</code> after it has already been
pushed, git doesn't change it because from a file-system perspective it's the
same file (although Windows shows the filename in lowercase).</p><p>To make git case sensitive on such an OS (Windows, OSX):</p><pre tabindex=0><code>git config core.ignorecase false
</code></pre><p><strong>NOTE:</strong> This introduces its own problems. Let's assume you have already
committed <code>Bob.jpg</code> and make git be case-sensitive. You rename it to <code>bob.jpg</code>
and push it. In the remote repo you will have two files <code>Bob.jpg</code> and <code>bob.jpg</code>.</p><p>The answer is to rename <code>Bob.jpg</code> to something else like <code>Bob-1.jpg</code>, push and
then rename it back to <code>bob.jpg</code>.</p><h2 id=exclude-a-committed-file-with-gitignore>Exclude a Committed File with gitignore
<a class=header-link href=#exclude-a-committed-file-with-gitignore><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p><code>.gitignore</code> only works on new <code>git add</code>s. If we have already pushed
<code>blah/whatever.cpp</code> to the repo, adding <code>whatever.cpp</code> to <code>.gitignore</code> does
nothing.</p><p>Do this first and then <code>gitignore</code> will work (not using <code>--cached</code> will remove
the file completely from the filesystem):</p><ul><li><p><code>git rm --cached blah/whatever.cpp</code></p></li><li><p>Use <code>-r</code> for recursive change. Needed for directories.</p></li><li><p>Source: <a href=https://stackoverflow.com/a/30227922 target=_blank rel="noreferrer noopener">https://stackoverflow.com/a/30227922</a></p></li></ul><p>Note: Also overwrite history if the file had secrets/sensitive info.</p><h2 id=sign-git-commits>Sign git Commits
<a class=header-link href=#sign-git-commits><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Follow this guide:</p><ul><li><a href=https://withblue.ink/2020/05/17/how-and-why-to-sign-git-commits.html target=_blank rel="noreferrer noopener">https://withblue.ink/2020/05/17/how-and-why-to-sign-git-commits.html</a></li></ul><hr><h1 id=visual-studio-code>Visual Studio Code
<a class=header-link href=#visual-studio-code><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h1><p>My current (as of June 2019) editor of choice. Settings are at
<a href=https://parsiya.io/categories/configs/vscode/ target=_blank rel="noreferrer noopener">https://parsiya.io/categories/configs/vscode/</a>.</p><h2 id=associate-an-extension-with-a-specific-language>Associate an Extension with a Specific Language
<a class=header-link href=#associate-an-extension-with-a-specific-language><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>This allows us to have specific language highlighting for custom extensions. Add
the following to <code>settings.json</code>:</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>    <span style=color:#2aa198>&#34;files.associations&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#268bd2>&#34;*.whatever&#34;</span>: <span style=color:#2aa198>&#34;cpp&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#268bd2>&#34;*.generics&#34;</span>: <span style=color:#2aa198>&#34;go&#34;</span>  <span style=color:#586e75>// lol
</span></span></span><span style=display:flex><span><span style=color:#586e75></span>    }
</span></span></code></pre></div><h2 id=install-a-specific-version-of-an-extension>Install a Specific Version of an Extension
<a class=header-link href=#install-a-specific-version-of-an-extension><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>This also disables auto-update for that extension so you can keep an older
version of an extension.</p><ol><li>Open the extensions tab.</li><li>Right-click on the extension.</li><li>Select <code>Install Another Version...</code>.</li><li>Select the version.</li><li>The extension will not auto-update.</li></ol><ul><li>Source: <a href=https://github.com/microsoft/vscode/issues/30579#issuecomment-456028574 target=_blank rel="noreferrer noopener">https://github.com/microsoft/vscode/issues/30579#issuecomment-456028574</a></li></ul><h2 id=couldnt-start-client-gopls-unsupported-uri-scheme>couldn't start client gopls unsupported URI scheme
<a class=header-link href=#couldnt-start-client-gopls-unsupported-uri-scheme><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>VS Code needs to open a workspace. Open the parent directory to the project.</p><p>Source: <a href=https://www.reddit.com/r/golang/comments/g6l6y9/couldnt_start_client_gopls_unsupported_uri_scheme/ target=_blank rel="noreferrer noopener">https://www.reddit.com/r/golang/comments/g6l6y9/couldnt_start_client_gopls_unsupported_uri_scheme/</a></p><hr><h1 id=sublime-text-3>Sublime Text 3
<a class=header-link href=#sublime-text-3><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h1><p>Tips for using the Sublime Text 3 editor. I don't use Sublime Text anymore
although I bought it. This section is probably outdated.</p><h2 id=fix-margo-build-failed-for-gosublime-on-windows>Fix "MarGo build failed" for GoSublime on Windows
<a class=header-link href=#fix-margo-build-failed-for-gosublime-on-windows><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>GoSublime's executable has Go version in it. In most cases, it cannot grab the
version on Windows and the build will fail like this:</p><pre tabindex=0><code>MarGo: MarGo build failed
cmd: `[&#39;C:\\Go\\bin\\go.exe&#39;, &#39;build&#39;, &#39;-tags&#39;, &#39;&#39;, &#39;-v&#39;, &#39;-o&#39;, 
       &#39;gosublime.margo_r17.12.17-1_go?.exe&#39;, &#39;gosublime/cmd/margo&#39;]`
</code></pre><p>Where <code>?</code> is the Go version that is unknown.</p><p>Edit this file:</p><ul><li><code>%AppData%\Sublime Text 3\Packages\GoSublime\gosubl\sh.py</code></li></ul><p>Find these lines:</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>cmd <span style=color:#719e07>=</span> ShellCommand(<span style=color:#2aa198>&#39;go run sh-bootstrap.go&#39;</span>)
</span></span><span style=display:flex><span>cmd<span style=color:#719e07>.</span>wd <span style=color:#719e07>=</span> gs<span style=color:#719e07>.</span>dist_path(<span style=color:#2aa198>&#39;gosubl&#39;</span>)
</span></span><span style=display:flex><span>cr <span style=color:#719e07>=</span> cmd<span style=color:#719e07>.</span>run()
</span></span><span style=display:flex><span>raw_ver <span style=color:#719e07>=</span> <span style=color:#2aa198>&#39;&#39;</span>
</span></span><span style=display:flex><span>ver <span style=color:#719e07>=</span> <span style=color:#2aa198>&#39;&#39;</span>     <span style=color:#586e75># Change this to &#39;1&#39;</span>
</span></span></code></pre></div><p>Edit <code>ver</code> to whatever, I usually do <code>1</code>. Restart Sublime Text and MarGo will
build.</p><p><strong>This must to be done for every new GoSublime version.</strong></p><h2 id=open-the-same-file-in-a-new-tab>Open the Same File in a New Tab
<a class=header-link href=#open-the-same-file-in-a-new-tab><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p><code>File > New view into File</code>. Then drag the pane to a second screen/location.</p><hr><h1 id=burp>Burp
<a class=header-link href=#burp><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h1><h2 id=quality-of-life-tips-and-tricks-for-burp>Quality of Life Tips and Tricks for Burp
<a class=header-link href=#quality-of-life-tips-and-tricks-for-burp><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><ul><li>See my blog post:
<a href=/blog/2019-10-13-quality-of-life-tips-and-tricks-burp-suite/ title="Quality of Life Tips and Tricks - Burp Suite" rel=nofollow target=_blank>Quality of Life Tips and Tricks - Burp Suite</a></li></ul><h2 id=selected-text-in-burp-is-black>Selected Text in Burp is Black
<a class=header-link href=#selected-text-in-burp-is-black><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Usually happens in Virtual Box.</p><p><img src=/images/cheatsheet/burp-3d-issue.png alt="Burp 3D rendering issue"></p><p>Two options:</p><ol><li>Disable 3D rendering in Virtual Box. Not recommended.</li><li>Run Burp with 3D disabled (make a shortcut): \<pre tabindex=0><code>java.exe &#34;-Dsun.java2d.d3d=false&#34; -jar burp.jar
</code></pre></li></ol><ul><li>The complete command for the default install on Windows is:<pre tabindex=0><code>&#34;C:\Program Files\BurpSuiteCommunity\jre\bin\java.exe&#34;
  &#34;-Dsun.java2d.d3d=false&#34;
  -jar &#34;C:\Program Files\BurpSuiteCommunity\burpsuite_community.jar&#34;
</code></pre></li></ul><p>Source - credit to <code>floyd</code>:</p><ul><li><a href=https://support.portswigger.net/customer/portal/questions/16802069-text-highlighted-in-black target=_blank rel="noreferrer noopener">https://support.portswigger.net/customer/portal/questions/16802069-text-highlighted-in-black</a></li></ul><h2 id=using-iptables-to-proxy-android-apps-with-burp>Using iptables to Proxy Android Apps with Burp
<a class=header-link href=#using-iptables-to-proxy-android-apps-with-burp><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Technically this should work with any proxy.</p><ol><li>Add Burp's CA certificate to the device.</li><li>If there's certificate pinning, bypass it.</li><li>Enable <a href=https://portswigger.net/burp/documentation/desktop/tools/proxy/options/invisible target=_blank rel="noreferrer noopener">invisible proxying</a> for the target listener.</li><li>Root the device, iptables needs root.</li></ol><p>For example, we want to redirect all traffic to <code>443</code> and <code>80</code> to Burp's
listener at <code>192.168.137.1:8080</code>. This is the default IP address of a Windows
machine if the mobile hotspot network is enabled:</p><pre tabindex=0><code>iptables -t nat -A OUTPUT -p tcp --dport 443 -j DNAT --to-destination 192.168.137.1:8080
iptables -t nat -A OUTPUT -p tcp --dport 80 -j DNAT --to-destination 192.168.137.1:8080

iptables -t nat -A POSTROUTING -p tcp --dport 80 -j MASQUERADE
iptables -t nat -A POSTROUTING -p tcp --dport 443 -j MASQUERADE
</code></pre><ul><li>Source: <a href=http://blog.dornea.nu/2014/12/02/howto-proxy-non-proxy-aware-android-applications-through-burp/ target=_blank rel="noreferrer noopener">http://blog.dornea.nu/2014/12/02/howto-proxy-non-proxy-aware-android-applications-through-burp/</a></li></ul><hr><h1 id=linux>Linux
<a class=header-link href=#linux><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h1><p>I'd just like to interject for a moment. What you're referring to as Linux, is
in fact, GNU/Linux, or as I've recently taken to calling it, GNU plus Linux.</p><h2 id=python-module-installed-with-pip-but-command-is-not-available>Python Module Installed with pip but Command is not Available
<a class=header-link href=#python-module-installed-with-pip-but-command-is-not-available><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>They are installed in <code>~/.local/bin</code>. Add it to your <code>$PATH</code>.</p><h2 id=add-a-user-to-sudoers-on-debian>Add a User to sudoers on Debian
<a class=header-link href=#add-a-user-to-sudoers-on-debian><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><ol><li><code>su -</code>: If you do <code>su</code> alone, you might not find <code>usermod</code> in your path.<ul><li>"Starting su with the option " -" gives you the full path root would have
when logging in to the system after startup. So directories like
/usr/sbin, /sbin or /opt/kde/bin become part of roots path variable after
doing su and will be searched for commands."
<a href=https://www.linuxquestions.org/questions/linux-newbie-8/command-usermod-not-found-385901/#post1967095 target=_blank rel="noreferrer noopener">source</a></li></ul></li><li><code>usermod -aG sudo user-name</code></li><li>Restart (or logoff and login?).</li></ol><h2 id=grep>grep
<a class=header-link href=#grep><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Only search in files with specific extensions. E.g., only <code>md/markdown</code>.</p><p><code>grep -ir "whatever" --include\*.md --include \*.markdown</code></p><hr><h1 id=docker>Docker
<a class=header-link href=#docker><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h1><h2 id=commands>Commands
<a class=header-link href=#commands><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><ul><li>Images:<ul><li>All images: <code>docker images</code></li><li>Delete image(s): <code>docker rmi img1 img2</code><ul><li>By name: <code>docker rmi whatever/blah</code></li><li>By ID: <code>docker rmi f20d</code></li></ul></li><li>Build image from file:<ul><li><code>docker build . -f file -t whatever/blah</code></li><li><code>DockerFile</code> it does not need to be mentioned. <code>docker build -t whatever/blah</code></li><li><code>docker image</code> should display the image now.</li></ul></li></ul></li><li>Containers:<ul><li>All running containers: <code>docker container ls -a</code> - <code>docker ps -a</code></li><li>Only show running containers: <code>docker ps</code></li><li>Stop one container: <code>docker stop d194 3f4a</code></li><li>Stop all containers:<ul><li>PowerShell: <code>docker ps -a -q | ForEach { docker stop $_ }</code></li><li>Bash: <code>docker stop $(docker ps -a -q)</code></li></ul></li><li>Delete container(s): <code>docker container rm d194 3f4a</code></li><li>Run a container from an image:<ul><li><code>docker run -it whatever/blah [command]</code> where command is usually <code>/bin/bash</code>.</li><li><code>--rm</code> to delete the container after it exits. This is useful when testing.</li></ul></li></ul></li><li>centOS specific:<ul><li>centOS cmd for <code>DockerFile</code>: <code>CMD ["/usr/sbin/init"]</code></li><li>Create and run a centOS container: <code>docker run -it whatever/blah sh</code></li></ul></li></ul><h2 id=troubleshooting>Troubleshooting
<a class=header-link href=#troubleshooting><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><ul><li>Error starting userland proxy: mkdir ... : input/output error.<ul><li>Restart docker. On Windows, right click the docker tray icon and select <code>Restart...</code>.</li></ul></li></ul><hr><h1 id=python>Python
<a class=header-link href=#python><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h1><p>These were written when I used Python 2, some might not work with newer versions.</p><h2 id=create-all-possible-combinations-of-two-lists-of-strings>Create All Possible Combinations of Two Lists of Strings
<a class=header-link href=#create-all-possible-combinations-of-two-lists-of-strings><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#719e07>from</span> itertools <span style=color:#719e07>import</span> product
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#719e07>if</span> __name__ <span style=color:#719e07>==</span> <span style=color:#2aa198>&#34;__main__&#34;</span>: 
</span></span><span style=display:flex><span>    set1 <span style=color:#719e07>=</span> [<span style=color:#2aa198>&#34;https://example.net&#34;</span>, <span style=color:#2aa198>&#34;https://google.com&#34;</span>]
</span></span><span style=display:flex><span>    set2 <span style=color:#719e07>=</span> [<span style=color:#2aa198>&#34;/whatever&#34;</span>, <span style=color:#2aa198>&#34;/something&#34;</span>]
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#719e07>for</span> e1, e2 <span style=color:#719e07>in</span> product(set1, set2):
</span></span><span style=display:flex><span>    <span style=color:#b58900>print</span>(e1<span style=color:#719e07>+</span>e2)
</span></span></code></pre></div><h2 id=multi-line-string>Multi-line String
<a class=header-link href=#multi-line-string><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Note the space on second line.</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>string1 <span style=color:#719e07>=</span> <span style=color:#2aa198>&#34;This is line one of the string that is going to be over 80&#34;</span>
</span></span><span style=display:flex><span>          <span style=color:#2aa198>&#34; characters and thus needs to be broken into two or more lines.&#34;</span>
</span></span></code></pre></div><h2 id=main>Main
<a class=header-link href=#main><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Because I always forget.</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#719e07>def</span> <span style=color:#268bd2>main</span>():
</span></span><span style=display:flex><span>    <span style=color:#586e75># whatever</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#719e07>if</span> __name__ <span style=color:#719e07>==</span> <span style=color:#2aa198>&#34;__main__&#34;</span>:
</span></span><span style=display:flex><span>    main()
</span></span></code></pre></div><h2 id=format-string-with>Format String with
<a class=header-link href=#format-string-with><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#2aa198>&#34;</span><span style=color:#2aa198>{}</span><span style=color:#2aa198>*</span><span style=color:#2aa198>{}</span><span style=color:#2aa198> = </span><span style=color:#2aa198>{}</span><span style=color:#2aa198>&#34;</span><span style=color:#719e07>.</span>format(x, y, x<span style=color:#719e07>*</span>y)
</span></span></code></pre></div><h2 id=bytearray>bytearray
<a class=header-link href=#bytearray><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>With Python 3, it's not that useful but still:</p><ul><li><a href=http://dabeaz.blogspot.com/2010/01/few-useful-bytearray-tricks.html target=_blank rel="noreferrer noopener">http://dabeaz.blogspot.com/2010/01/few-useful-bytearray-tricks.html</a></li></ul><h2 id=cyclic-xor-on-bytearrays>Cyclic XOR on bytearrays
<a class=header-link href=#cyclic-xor-on-bytearrays><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#719e07>import</span> itertools
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#719e07>def</span> <span style=color:#268bd2>xor_byte</span>(payload, key):
</span></span><span style=display:flex><span>    <span style=color:#2aa198>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=color:#2aa198>    Get a bytearray, XOR it with a key (bytearray) and repeat the key
</span></span></span><span style=display:flex><span><span style=color:#2aa198>    Return bytearray
</span></span></span><span style=display:flex><span><span style=color:#2aa198>    &#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#719e07>return</span> <span style=color:#b58900>bytearray</span>((mybyte <span style=color:#719e07>^</span> keybyte) <span style=color:#719e07>for</span> (mybyte, keybyte) <span style=color:#719e07>in</span>
</span></span><span style=display:flex><span>                     itertools<span style=color:#719e07>.</span>izip(payload, itertools<span style=color:#719e07>.</span>cycle(key)))
</span></span></code></pre></div><h2 id=cyclic-xor-on-strings>Cyclic XOR on Strings
<a class=header-link href=#cyclic-xor-on-strings><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Same as above but string</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#719e07>import</span> itertools
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#719e07>def</span> <span style=color:#268bd2>xor_str</span>(payload, key):
</span></span><span style=display:flex><span>    <span style=color:#2aa198>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=color:#2aa198>    Get a string, XOR it with a key (string) and repeat the key
</span></span></span><span style=display:flex><span><span style=color:#2aa198>    Return string
</span></span></span><span style=display:flex><span><span style=color:#2aa198>    &#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#719e07>return</span> <span style=color:#2aa198>&#34;&#34;</span><span style=color:#719e07>.</span>join(<span style=color:#b58900>chr</span>(<span style=color:#b58900>ord</span>(mybyte) <span style=color:#719e07>^</span> <span style=color:#b58900>ord</span>(keybyte)) <span style=color:#719e07>for</span> (mybyte, keybyte) <span style=color:#719e07>in</span>
</span></span><span style=display:flex><span>                   itertools<span style=color:#719e07>.</span>izip(payload, itertools<span style=color:#719e07>.</span>cycle(key)))
</span></span></code></pre></div><h2 id=python-one-liners-in-command-line>Python One-Liners in Command Line
<a class=header-link href=#python-one-liners-in-command-line><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>You can run Python one-liners from command line using <code>python-c "command"</code>.
Separate command with <code>;</code> and use <code>'</code> for strings. Remember that you need to
<code>import</code> things too.</p><p>For example a one-liner to encode something in base64:</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>python <span style=color:#719e07>-</span>c <span style=color:#2aa198>&#34;from base64 import b64encode; print b64encode(&#39;HelloHello&#39;);&#34;</span>
</span></span></code></pre></div><p>More:</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#586e75># Decrypt from AES (you need pyCrypto)</span>
</span></span><span style=display:flex><span>python <span style=color:#719e07>-</span>c <span style=color:#2aa198>&#34;from Crypto.Cipher import AES; aes = AES.new(KEY, AES.MODE_ECB); print aes.decrypt(CIPHERTEXT));&#34;</span>
</span></span></code></pre></div><hr><h1 id=java>Java
<a class=header-link href=#java><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h1><h2 id=enable-log4j-for-a-java-app>Enable Log4j for a Java App
<a class=header-link href=#enable-log4j-for-a-java-app><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>This usually happens when I am testing a Java app and it uses <code>log4j</code> but
logging is not enabled.</p><p>Create a file named <code>log4j.properties</code> by the main jar file and put the
following in it. Add <code>-Dlog4j.debug</code> to the app's command line parameters.</p><p>The app might already have the command to log but is just missing the file. Use
<code>procmon</code> to see which paths are searched to find this file.
The <code>Result is NAME NOT FOUND</code> filter is your friend.</p><pre tabindex=0><code>log4j.rootLogger=debug, stdout, R

log4j.appender.stdout=org.apache.log4j.ConsoleAppender
log4j.appender.stdout.layout=org.apache.log4j.PatternLayout

# Pattern to output the caller&#39;s file name and line number.
log4j.appender.stdout.layout.ConversionPattern=%5p [%t] (%F:%L) - %m%n

log4j.appender.R=org.apache.log4j.RollingFileAppender
log4j.appender.R.File=example.log

log4j.appender.R.MaxFileSize=100KB
# Keep one backup file
log4j.appender.R.MaxBackupIndex=1

log4j.appender.R.layout=org.apache.log4j.PatternLayout
log4j.appender.R.layout.ConversionPattern=%p %t %c - %m%n
</code></pre><ul><li>Source: <a href=http://logging.apache.org/log4j/1.2/manual.html target=_blank rel="noreferrer noopener">http://logging.apache.org/log4j/1.2/manual.html</a></li></ul><hr><h1 id=angular>Angular
<a class=header-link href=#angular><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h1><h2 id=find-the-version-of-angular-on-a-website-with-devtools>Find the Version of Angular on a Website with DevTools
<a class=header-link href=#find-the-version-of-angular-on-a-website-with-devtools><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Run in the console <code>getAllAngularRootElements()[0].attributes["ng-version"];</code>.</p><hr><h1 id=misc>Misc
<a class=header-link href=#misc><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h1><h2 id=download-youtube-videos-with-subtitles-with-youtube-dl>Download Youtube Videos with Subtitles with youtube-dl
<a class=header-link href=#download-youtube-videos-with-subtitles-with-youtube-dl><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>I love Wuxia (Chinese martial arts if I am not mistaken) series and movies. The
following <a href=https://github.com/ytdl-org/youtube-dl target=_blank rel="noreferrer noopener">youtube-dl</a> command will
download the 56 episode HQ quality Chinese TV series called <code>Xiao Ao Jiang Hu</code>
or <code>Laughing in the Wind</code> (also called <code>The Smiling Proud Wanderer</code> or
<code>Swordsman</code>).</p><p><code>youtube-dl --ignore-errors --write-srt --sub-lang en --yes-playlist 'https://www.youtube.com/playlist?list=PLuGy72vdo4_ScwTYb1bAynhBs3KgowvvQ'</code></p><pre tabindex=0><code>--ignore-errors: continue after errors
--write-srt    : download substitles
--sub-lang     : subtitle language (in this case English)
--yes-playlist : link to a Youtube playlist
</code></pre><p><code>Youtube-dl</code> can be downloaded using <code>pip</code>. For example on Windows:\
<code>python -m pip install youtube-dl</code>.</p><p>It's also possible to download binaries from <a href=https://github.com/ytdl-org/youtube-dl/releases target=_blank rel="noreferrer noopener">https://github.com/ytdl-org/youtube-dl/releases</a>.</p><p>Sometimes, you need to pass <code>--no-check-certificate</code> to bypass certificate
errors.</p><h2 id=download-different-qualities-with-youtube-dl>Download Different Qualities with youtube-dl
<a class=header-link href=#download-different-qualities-with-youtube-dl><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p><code>youtube-dl -F https://www.youtube.com/watch?v=xKYIde5jh_8</code> will show use a list
of resolutions. The first column will be the <code>format code</code> which is a number.</p><pre tabindex=0><code>$ youtube-dl -F https://www.youtube.com/watch?v=xKYIde5jh_8
...
format code  extension  resolution note
249          webm       audio only tiny   48k # note removed for most lines
...
247          webm       1280x720   720p  361k
136          mp4        1280x720   720p  482k
18           mp4        640x360    360p  282k
22           mp4        1280x720   720p  611k , avc1.64001F, 30fps, mp4a.40.2 (44100Hz) (best)
</code></pre><p>Then, we can download that format code (or best):</p><ul><li>247: <code>youtube-dl -f 247 https://www.youtube.com/watch?v=xKYIde5jh_8</code></li><li>22 or best: <code>youtube-dl -f best https://www.youtube.com/watch?v=xKYIde5jh_8</code></li></ul><h2 id=print-envelopes-with-brother-printers-and-libreoffice>Print Envelopes with Brother printers and LibreOffice
<a class=header-link href=#print-envelopes-with-brother-printers-and-libreoffice><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>I gave away the DW2280 printer when I moved to Canada but I am keeping the
instructions just in case. Before printing, get to printer physically and use
the following instructions:</p><ul><li>DW2280: <a href="http://support.brother.com/g/b/faqend.aspx?c=gb&lang=en&prod=hl2170w_all&faqid=faq00000063_025" target=_blank rel="noreferrer noopener">http://support.brother.com/g/b/faqend.aspx?c=gb&lang=en&prod=hl2170w_all&faqid=faq00000063_025</a></li><li>DCP-7030: <a href="https://www.youtube.com/watch?v=6JEZYM5aLY8" target=_blank rel="noreferrer noopener">https://www.youtube.com/watch?v=6JEZYM5aLY8</a></li></ul><ol><li>Open the back.</li><li>Press the two green handles down.<ol><li>Don't need to do this for the DCP-7030 printer.</li></ol></li><li>Open manual feed in front.</li><li>Adjust the paper guide and put the envelope in.</li><li>Envelope orientation:<ol><li>The side that will be printed should be up.</li><li>The opening slot should be to the left.</li></ol></li><li>Insert it until the printer says <code>Please Wait</code> and grabs the paper.</li></ol><pre tabindex=0><code>addressee side should be up
opening is to the left and under

this side goes into the printer
                ^
                |
                |
        +----------------+
        |x               |
under   | x              |
 &lt;------+- x             |
        |   x            |
        |   x            |
        |   x            |
        |   x            |
        |   x            |
        |   x            |
        |   x            |
        |   x            |
        |   x            |
        |   x            |
        |   x            |
        |   x            |
        |   x            |
        |   x            |
        |   x            |
        |  x             |
        | x              |
        |x               |
        +----------------+
</code></pre><p>Now open LibreOffice and use these instructions:</p><ul><li><a href=https://www.pcmech.com/article/how-to-print-an-envelope-with-libreoffice/ target=_blank rel="noreferrer noopener">https://www.pcmech.com/article/how-to-print-an-envelope-with-libreoffice/</a></li></ul><ol><li>Create new document in LibreOffice Writer (Word).</li><li><code>Insert > Envelope</code>.</li><li>Enter destination in <code>Addressee</code>.</li><li>Check <code>Sender</code> and enter your own address in the bottom textbox.</li><li>Select <code>Printer</code> tab.</li><li>Select printer and press <code>Setup</code>.</li><li>Select the Brother printer and press <code>Properties</code>.</li><li>Click on the <code>Advanced</code> button.<ol><li>Paper Size: <code>Com-10</code> or <code>Envelope #10</code>.</li><li>Click OK and go back to properties.</li></ol></li><li>Select the <code>Paper/Quality</code> (tab)<ol><li>Media Type: <code>Envelope</code>.</li><li>Paper Source > First Page: <code>Manual</code>.</li></ol></li><li>Press the <code>Insert</code> button.</li><li>Save the document and print. Note the envelope orientation above.</li></ol><h2 id=tab-size-4-in-the-github-web-interface>Tab Size 4 in the GitHub Web Interface
<a class=header-link href=#tab-size-4-in-the-github-web-interface><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Add <code>?ts=4</code> to end of the file URL.</p><h2 id=ffmpeg>ffmpeg
<a class=header-link href=#ffmpeg><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>To split a file with <code>ffmpeg</code>. Let's say we want to grab the first 200 seconds
of a file starting from second 100.</p><p><code>ffmpeg -i input.mp4 -strict -2 -ss 100 -t 200 output.mp4</code></p><p>I also use it to reduce the file size of my video proof-of-concepts:</p><ol><li>Record the video with OBS Studio. The output file is <code>video.mkv</code>.</li><li>Use OBS Studio to remux the video <code>File (menu) > Remux Recordings</code> to get
<code>video.mp4</code>.</li><li>Use <code>ffmpeg</code> to reduce the file size:<ol><li><code>ffmpeg -strict -2 -ss 0 video-processed.mp4 -i video.mp4</code>.</li></ol></li></ol><ul><li>Source: <a href=https://unix.stackexchange.com/a/1675 target=_blank rel="noreferrer noopener">https://unix.stackexchange.com/a/1675</a></li></ul><p>I still need to experiment with different codecs to figure out which one is best
but this method reduces the file size dramatically without a noticeable change
in quality.</p><h2 id=wrap-long-lines-in-page-source-in-firefox>Wrap Long Lines in Page Source in Firefox
<a class=header-link href=#wrap-long-lines-in-page-source-in-firefox><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Easier method: In the <code>View Source</code> page, right-click and select
<code>Wrap Long Lines</code>, or:</p><ol><li><code>about:config</code></li><li>Set <code>view_source.wrap_long_lines</code> to <code>true</code>.</li></ol><ul><li>Source: <a href=https://support.mozilla.org/en-US/questions/1208440 target=_blank rel="noreferrer noopener">https://support.mozilla.org/en-US/questions/1208440</a></li></ul><h2 id=wireshark-not-equal-filter>Wireshark Not Equal Filter
<a class=header-link href=#wireshark-not-equal-filter><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><ul><li>Right: <code>!tcp.port == 8080</code></li><li>Wrong: <code>tcp.port != 8080</code></li></ul><p>Source: <a href=https://thetechl33t.com/2015/06/01/wireshark-not-equal-to-filter/ target=_blank rel="noreferrer noopener">https://thetechl33t.com/2015/06/01/wireshark-not-equal-to-filter/</a></p><h1 id=regex>Regex
<a class=header-link href=#regex><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h1><h2 id=regex-to-search-for-urls-in-burp-responses>Regex to Search for URLs in Burp Responses
<a class=header-link href=#regex-to-search-for-urls-in-burp-responses><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>Not the best regex but does the job:</p><ul><li><code>http([^"])*\.([^"])+</code></li></ul><p>Better but more expensive regex:</p><pre tabindex=0><code>/(?:(?:https?|ftp|file):\/\/|www\.|ftp\.)
    (?:\([-A-Z0-9+&amp;@#\/%=~_|$?!:,.]*\)|[-A-Z0-9+&amp;@#\/%=~_|$?!:,.])*
    (?:\([-A-Z0-9+&amp;@#\/%=~_|$?!:,.]*\)|[A-Z0-9+&amp;@#\/%=~_|$])
</code></pre></div><footer><p class=meta><span class="byline author vcard">Posted by <span class=fn>Parsia</span></span>
<time>Feb 24, 2016</time></span></p><p class=meta><a class="basic-alignment left" href=https://parsiya.net/about/ title="Who is this guy?">Who is this guy?</a>
<a class="basic-alignment right" href=https://parsiya.net/go/ title="Go Notes">Go Notes</a></p><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//parsiya.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></footer></article></div><aside class="sidebar thirds"><section class="first odd"><h1>Who am I?</h1><p><p>I am Parsia, an application security engineer.</p><p>I write about application security, cryptography, static analysis, and
(of course) videogames.</p><p>Click on <a href=/about/>About Me!</a> to know more.</p></p></section><ul class=sidebar-nav><li class=sidebar-nav-item><a target=_blank rel="me noopener noreferrer" href=https://infosec.exchange/@parsiya title=https://infosec.exchange/@parsiya><i class="fa fa-mastodon fa-3x"></i></a>
<a target=_blank rel="noopener noreferrer" href=https://github.com/parsiya/ title=https://github.com/parsiya/><i class="fa fa-github fa-3x"></i></a>
<a target=_blank rel="noopener noreferrer" href=https://twitter.com/cryptogangsta/ title=https://twitter.com/cryptogangsta/><i class="fa fa-twitter fa-3x"></i></a>
<a target=_blank rel="noopener noreferrer" href=https://www.linkedin.com/in/parsiya title=https://www.linkedin.com/in/parsiya><i class="fa fa-linkedin fa-3x"></i></a></li></ul><section class=odd><h1>Collections</h1><li><a href=https://parsiya.net/categories/thick-client-proxying/ title="Thick Client Proxying">Thick Client Proxying</a></li><li><a href=https://parsiya.net/categories/writeup/ title=CTFs/Writeups>CTFs/Writeups</a></li><li><a href=https://parsiya.net/categories/attack-surface-analysis/ title="Attack Surface Analysis">Attack Surface Analysis</a></li><li><a href=https://parsiya.net/categories/bug-bounty/ title="Bug Bounty">Bug Bounty</a></li><li><a href=https://parsiya.net/categories/go/ title=Go/Golang>Go/Golang</a></li><li><a href=https://parsiya.net/categories/blockchain/ title=Blockchain>Blockchain</a></li><li><a href=https://parsiya.net/categories/burp-extension/ title="Burp Extension Development">Burp Extension Development</a></li><li><a href=https://parsiya.net/categories/automation/ title=Automation>Automation</a></li><li><a href=https://parsiya.net/categories/reverse-engineering/ title="Reverse Engineering">Reverse Engineering</a></li><li><a href=https://parsiya.net/categories/crypto/ title=Crypto(graphy)>Crypto(graphy)</a></li><li><a href=https://parsiya.net/categories/winappdbg/ title=WinAppDbg>WinAppDbg</a></li><li><a href=https://awsome.pw title="AWSome.pw - S3 bucket squatting - my very legit branded vulnerability">AWSome.pw - S3 bucket squatting - my very legit branded vulnerability</a></li></section></aside></div></div><footer role=contentinfo><p>Copyright &copy; 2023 Parsia - <a href=https://parsiya.net/license/>License</a> -
<span class=credit>Powered by <a target=_blank href=https://gohugo.io rel="noopener noreferrer">Hugo</a> and <a target=_blank href=https://github.com/parsiya/hugo-octopress/ rel="noopener noreferrer">Hugo-Octopress</a> theme.</p></footer></body></html>